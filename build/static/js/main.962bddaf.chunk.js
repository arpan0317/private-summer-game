(this["webpackJsonptest-react"]=this["webpackJsonptest-react"]||[]).push([[0],{10:function(e,t,a){},122:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAAAnCAYAAAB6xhboAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABJ3SURBVHgB7V0LfFTVmf/OnZkkPAIkBBIi0OAivhBWS6vsWqHaFiqrbalUi2i77VZrbat0FVas29itUmjdlmppxVoxVFCpVbTY4g8RRAQrvhVBJAZCJATC0zzJzOn/P+dcmQx3Zm6SQUKcv7/PO5n73XvPPfd87+8OImXVPeQ4wr7BM/OeGTs2KBlk0IngSKRpiSyo/L6s1yHppNCi1Y6S60uqTrxxbl1g7y9yDw5TkkEGnQgO/tsjkcgc2VD5lMzf+knpZKguvKFH9ZDpX9Uqa7HS6hotztujXpp3SDLIoBPBAa2PbrUeK0pWSdnWm2ChhuLvY671q0+cekaku/M7fCwDjYJt0hJoeV4yyKCTAa6drBGltP27B/yo2yWiH5H5lZfK3euPibu3eegPelUNmfbTsA4+iz+vwOC68Xslapeq05v9nkdrnQPqK10IuB8FKtKdQNEdbdh7PS7u05Hs4DYIz47WX+sR4uj7pFu/+2RB1cnyEcHEQjeO6Rnu9rgS/WMITp/W++XtvXm5B3ydC4sNmwdAn5MuAtwTPYhvgX4D6rQxbTqAe83G5hqxSrSzw5He9TXYbvDYl4OVe7lEwmukbNvN8qfaXnIUUTVg+uD3h0xbpJVaBoEZA/tzhCbC5K4dvqG0OdW5wHcONq+CJoK6RIYP95SLzUIQXd2B0vUxVozSCMhxAEcuPKlJJPJ2Yha4Rlr/n4TrlsnDW3rLUcD2oTeMVjl6NSzQpfgzOxFfQKm14g9DQP2ka4EK4XTp4pYoBrS+x4376tjt6yn4cEPQ8g2h8XIUEAirm7AZnIwHVqpR6+ZU48wgg2MCI0hOiK5dkw/+T0uaoT95VUiLGpGKDwPdXvRBVq1kkEEnhBGkoFRC5Vf54B8updqRNKJ2Z7/+2OT6YN0qu2d9IBkcUyBWu1KzVJJBKxihuKy4Cp+2pGbXQ2RwdVrTyeFAE126lG1KES3PIYbSksExAwToRGxukCRx7McVRpCUiogpzKZCkaiWIkknAg4fTtIHgwCtBWN8STI41tgGuhD0nGTQCrFu2los1nBSbqV6Ihl5kqQRYa3OSsUDa1STrR3fhdgMjg6UUi2g7aA6yaAVDgvSoeA7MN41SblZZdb6XyVNeHjSJNYIUiYagG1NTdnb5DhAeyvxH4dOha6Mw8XKxlCVBFq2w48akOKYEVGBUh2PV8asP6kgLC0npOILKHm9aEdpvaQZWLzF2IwG/RuISY99oE1iXJc3qYF9nIPK4BTQF0Fs+u2P71g03ghaAVqL8+z2OC5PTBaUnRengnriu73YvgJaCnrNz/XjzknF+O+gt72uGcc7Cpvd4KtIwcfaVRh8G223wRmgcvy9J46PsTPLI1S0rHW9B3oR9Cp46z3OmyVGiZ4vpsDMRBL7KJ8FP7tXVIpxce2OFPPshoIYnsAYyD9Ab+EcjR7HZNtrbsb+ffa7f8Hms8JEmkgDiCHECo/7YwhygZhaHp/Ly6BV4Ism6Q5bpGv7fyCOnzhED5P5+9JSmG1qaRqsGXelQEQ5z0oaQQEC3Y2PLEQvBv0INAX0fdCdYh7GMp3C+mI/BeBhEMf3C9BlYhYGF9T1oCU8F/g+71oc2z/2X/j4JuhJMcH7BIl2c8iXQbeCngGVgq+t7TFUbn8EXSrJx82FswY0OwXfJ7D5mxjhIVjkXgQqjuP7TzEx9rfFCBHH8Xkxc/so9veP46cAPCFm7s4WU3rhuX8OWoX9I+w5Eo2LymI16BExi5shCef3IjFzzmd3msehNBIPgQpsHyavt1zMM9tlx/5T0FqrQKICD7rVztcXQFRQFKSbQa9gHxVoXPuM0msx/O9KUuhCKG4u/n2SAhMmzMxbuvSmvYn2B0OBQQiA+nh0Ax2+msieLAlskjQBN07r8VvQeWLunw+M1qMalA9ibyE1Fyd3BfgvgdZZ4XEeaqh7xGhE3gCtEIWj3J6Xi4E87LK4Q8xDqLaH8xh3MfKY1+3xXLAUXpYDKGDU6veKT2CcGJZ+Ch+/hu3vlEkieWEcqAI0Bnx9XO3sgTPFLJpVCfa7logLjXNK5bTfjqM7PjOe/qEYTe/y0wOZA2Kc9TXQyxynVTS00v8D+jPoVwmux2PmiRGiK0GVrvWhcNhrssC/nLzYF58Y4XX4fH8txpJxLspd649jZttz34HPX8H2f8UoxovFeAnNlu92Mc/mFnxe17omFNFvgCV5YVY5eaICSbsQolhYVdCjruFbpSXfzEl4KlEj+fSTnQY8lS1OZKukAbhhptnvEmPKudhpeajFzhVjFT4D+hToPjGuAh/svVZDxp6HfYdcOK4Q0SWhRRkL+rqYBcJ+v8li+hhpraLxpzIuMTXho3YcPIYLgn1l1LTfAe0X87CvlbaDjbp0U0YkmAO6opeAfgk6aMeZCOxVfBJjThY7c4FREO+kQNr7433Wg17Dx2uwPWivTY0/Q0z/HL9f7wo7j7PuFBcuBXeax9h5T1y8M0HfA//mWBeOn0FYw3KVGMu0GMd49SXSI6A38Q3wvxPrQtt7vUWM23i1mPUxGd+/6AqR5aP7+WPQINBprQWpsakSHPslGaKaI5Iyc9fjwMHLs5qbr2pqrPMstmK2qYZ8vEgYqRjw7sxdkh78hxhL4y7+8ZiQpaBa++AP2AfBCbzTDFNKQD+x/rULLrDx9jwUxq/guHVcMDazdQi0C0Q3iIK5KNY62Ic3EbTSXjtsFxKV2P1i3BZiJK7bU9oGWjhmOMcl2E9XiAuZLg5jsSleiQ6rdHiPf5bkoLKp84qDiNjFJ8ZCXw6ai++3JeCnYNDCZceNh2OkAvoreGbZuZIE52C8RTe9Qo4UyLAdww/c+MYDVH4Uarp508GXqBf1XUtxgnT1yfD/VOrsmFIXyx93JG4KLXv/1Nw9e75bUF1dpAIhz2TCqkFTz1VG6pPC0WqDpAHW7FPb84HQrbgNE+TpdlIQuF8O9yDSDx4SwzLFbvnAbk2msa2AtqQaG5MPILjNQnJdQD6fYmkDrKakNh5nA/J4XAF6xvI9KMbF/YQH30Q7jlSNwtw/DNeakOB6seA8cs6fTMG3w4OHZRImZ34iPqBMKacUNBHjik2gUYk8Lt5vPLjg3NCK8g2CZ1Ncg88+z6PdR/t5A/ULEmh+WhZWny9eaVt96Lq82tqhocaG3HAk8qnYXVMHTuo2Y8DkqVirfIipXgeIhEW/JukB459R9jNjoheSMdOiiJlwgkF/rNC7SQhmiV6UdoCvRYDOB/0//vyrmEwhA3Y+vMkxrDnSdtBtZDbq5LhrMklEAXGtjNtj6fXOFt3N5ck0P6FMR/5joD+ApuEaybruKQzMhu5PcU4u0HgB5jraQ2su/sHYNtteNxZLUyg3Xp/717huaRLQ4oaOFCTl0FXxk9o+Qw41PyELtt0o92487L7xNXVRlwwq3/JBNEeuohMQFbbpAyYNDkYCjw0OZP9saKBbqjQ7B3EwJ+i8KelBL0vETrpUPo6J1VrRBWJjjDz7HRfEbmkDbNaOQfzfxWSMpopxt5gEobDTpepoC04l6C0xFiAWXxKjaXldsQt6mZjkRCBmjPQiaKmWiD9cB5olxuK/huPvAg2z6fhYcN6qfZ7z/bi/aZlrpA2wngW9j4K4XeU+DqcMVPjkkyMFqaUFD0D5XBzIzGhMYLDb81JWeWH01fSInhVqbs4vqqpyffvTbii8ot+0AV+/Xqvgi71U4LxxwfxsJSplARI8O/MHvpCujB1jFFdBBH0WQINxx7tb1+8PSdtfHGS692kxiQo+aC7Wb9q/GfjTfblfOgDbecDs3SSbGHFBQZofF7cwjqMQx6b66f6x93K1+ABjEhCzYIx5vycmzczrL45LQ1PTt7fpmXPVnpc0Wa+KfxnUb03SdwfHkTfVt/YdpMH3SNswHE7YfOnWvwzq7KJee/ceyqvdbbIxECQVaP4DzsksUcEFwfxItgr4e+tRR9arlSvbVJRMAk6eq9HoUvp58e/MmM87+T+blXo/5jy+YxgrvMxKuRbtRhBTtPeDXmCiA0QrmCUdBzNfLFOcYa/NNDWF9cE4PsaBtGBjYsbIethDSdLnnmDWDfSYPZ5lFP5UQBnOmW9Z6AWkzvgaxM8rSwGFHlYuIawSIVXG75I048hBXTwKC06/Im2FUv0w8ssgOaGCndWhrIb66JucGHEeLAtTiIFTnO4HSpwcv0XGSFA76fzFID7EdfazWz9ICDwE8riuEYPP2Dlx/XemPi/V/tt7GKO4mp8uztw46+D+1sRw6TgokMw2fdX+zWZTLqhWL0faGIAx0xibqSsB0Yr8SdoJm7Wk68qUPtfBt+0uzuGp8QXaeNikRXxa/gV7rvPEPyaBmJl7VY4yvKVbBeh6tNsSlGzZfCjedeupgvUXhPJ7ig+XLgote1uCap2kCXiwLAr+Xox7QY0/zXYmHHlprelTM/XpBuuswFfEsPA8DMJpWVlLGJ8ghcx4aDToR3Y/+V1tyCRCMI6fz4NdAl5V+TbBJgmY4p5gkwx01xYnsDLsMqDwUjFQ6bGK7yeOSDUG1v8Yq7nKg8LFePrCFIfSasW/jc00M5MoP/fT8WGFlfWge2w6/KgigSB1x8LR85h+k7aeMByWgp01rRcIFu/4YH44JMqXj6ujOfzwjE2D1qUrY+eCWZzl9jNbQB7ChE92HwwLhlz4+DhXTHaL80OX4ra4BUiLdI/9zIVBjX4T20pYb7LpbMYLDMD/IiYNSxeLqV+3i52Lm4si116bgsXEAwP3Bknf/TJWHStmMT+dgI9CQ+tFC8xi7SLls5cS4z7H9s157eP80cK69RrOJbsGrotx9+KPYUfEdImbAzsedogwG/mbuLqe1znmi4mNfHeGdATegjSl7wH5Rsm1EgycDuu0XNqAnMbGSH5NTauHcKaTu3+gk+PnLdgGR9TPDmZJSXHFHfM+m774KAqbxWFq+RH7FRc3OwEOYPJZu2AWi+4kXQI+KGrU8fGNnTY9y/iG3Q28Vz441p2YYWywtN7ycCExeZNjhZF1ELcpk0JTg2szpcsYjHEkeRZIeu6X4+fzYyKAlmFTAj5e80k7Xs7JQvEBK0Ac63PsOYutI1nlRKtOAf6tvQ7n7b9BLLquBM9nYi25rfcw0cIyxW0e46wQ0w1CgV8N/nPjjmcSiUV3ejKMX8ckqhWmG8kDt8sHbZaGE2CGNdOavtKWufv3q24N9R+et48K1Y0O9U7xU14ai1EvCauskUXvzbrllE2zU+Xu2w3bhsKCKnu63EnmAuCCd10GukVloPMS1S1sBZ4WhK5Y7LtSsS5eoz3PaPD/wx7HJACF2e1vc/vDOEfsqqAlfEvSB7qldJUeV8nfI6LAUTBe9usK2fiOsUyFmOzjNixk9rjRhaMQs0NkshVo9xjOOduotouxmK+CfymI88NmACpcCsOuBNeksmISiHPO5t4KHPs30DJ7PBtlKUjngHeHfETw/w7MwqoCaT5UKk7gSmTTElqXs9Y93/K5JUuimikLfvqXQ4WNxSrLs1s8+sC0bAgpdXPf8pwVSkrblCVKBFunobBQoB9gT1cCPmbPWIxkSpoZJgow3Rz2l/l49f7D8/B+mRFj4Y/ZQAoitf8KW9j1OoYuF+MRxkO0vK/b6zbZDJub3drI+M66K2x7odbmwrxL+XvNg4LK9PbmFILkvjLBptPtCfYz2KfQl6u41xSwj/EV55JtQFxXb9n72Z/gXHw2LHKzS5xuHgVsFVut7H4qlmI77rDH8bxGiZiWL16TngGV3lPgr05wzSw7/ndTFZpZBxPzmsmeFHwl2DT6FyRzlJKHdp4uzc2/xLAxAa1TkSqi5UsPPhAZ9sYb/D5yTqB3/dnBXj08a0ZabwyKml1T133x8F2lmR81yeC4RtsKXCbge1Purpoo3Vqg8fUM0erDPq3spkbdv2p7ND4a4GTVDw/0CHkIEWoNck9TJDSneOvtH5npzSCDo4n2/Zzv1SewuDlPFlQ8AaP0QxgfxlB9+9TWqt579znZymkYG8hjyvvDzIqmy6BlUUA1lRaWz9kpGWTQhdDedg2DK0p2yJUDZ0Acx8ErXjJw69ZGFE7Up51eDYUqK/oTWxCeMPatCQYCXxxQ0f3awvcyQpRB10PHf2DeuHsvFd3+8nfOXrnigUIna9TIYG4vMb9Bt0Y5ztzGSM6jQ8pLGyWDDLoo0vYvNUyZ8yuVGwwXnB/qF0ASYYsSfWc4O/hg8caZmZ8ZzqDLo2OuXQz6BXTeWU7vHv2crEVBpS9aPari9wMzQpTBxwRps0gnS6/6M7N7XjDw3dmmBtHhTq0MMjh+8E9OI+Hb852vxAAAAABJRU5ErkJggg=="},130:function(e,t,a){},131:function(e,t,a){},134:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABPcAAAAYCAMAAAChmei0AAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAEtQTFRFAAAAzMzMs7Ozn5+fmZmZpqamv7+/0tLSxsbGwMDA0tLS39/f+fn55eXl////xsbGuLi4srKyzMzM2NjYubm55ubmrKys4ODgra2tJmWSfAAAABl0Uk5TAEz/////uxh/sogYf/9M/////1Xu//8Q/5jDb10AAAEvSURBVHic7dxNU8MgFIXhAAdDq1ZT48f//6VWS8FkMtMVZbx9nxVhsrirM5dAGIbM+SBFPwDAffAqHnrXAgDtjUEhnYe7U9PXtxgAaM9JqT6dWr9+pQDALbhV0K2fAcAaaVxOJJa6AEzblZ2M/WMeeLle1QBAe3VVW9s8hac+xQBAe64eXKm55/V86FMOADTn6yZGzT2nF3IPgFVhc/NWrwcAsCl/3tvX/zXOuTcdAcCmnHtvsci5JwCwaYhb3/d+1rmtFtYA0Nm8lXtJR3IPgFWjyt1TNfei3sk9AGb9Obf8UUaR2ANgVyoN3+dlKnIxAQDTwvpv3Jl7CQAYp2XwEXsA7FvcsRyJPQB3IEpfvz1fCtLUuxoAuAEXLweZ43j9bQAwIU3TNKfr7wHA//YN+4W0BjWcZk8AAAAASUVORK5CYII="},169:function(e,t,a){},170:function(e,t,a){},182:function(e,t,a){e.exports=a(403)},187:function(e,t,a){},209:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAhCAYAAAC803lsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKpSURBVHgBrViNlZswDBZ5HSCdoN6gbFA6Qe8mqDcoG4ROQG4CskHvJoBOkHQCpxOETuBah9Qo4PNPw/ee3h229PEhyTakgAxYa7fuj3b20VnpDK8VTY/OzmQvzoaiKM6wJpyAyllv89E7e4B74UhKeyvg4mxwVpM4JXwVjdXkI3GUvrki6pmAhkqTGq8oxgieHeTABXQieJ8j4A1BB8HXpgZ2IgsaVsIsw13MeSdElLAyqOcuwTJRozHqRGJu0CpVOGZZ3KfyORjuiUSyo13CpJST+u7V30fMRCpC0okb83Ie7DXliN4GGhznhL8GTzZ0REQrBGjPvBZcfYSrufGzUwMxVCBQCxEhP+V92qWfzEq1cWO8Bf+MnA3s9xTyo7knuvwa8MOz6YUuK7DXLTy4UoT66OqgrDBCvcJ7yzNenDk9EfJXQCISy81tYbA0H2h8jHCPFKwgLkLN40KcDmqTGIA40V8NcVQcQ70Qh0hhGfGrMlaNia0a4TuVXPRI9AVGNLbx9RSJZREmgY8fzryDKeXYJwrieHSGGxBmD0Wd4Fqykgxo7DGBj/1/bwTRl4RAzNo4I9JksrS4ZCuIg31OBaWYt+P3vuYiH3yHUDSEPr9geohR3BzFfBKhZ2ffHefBw4n+huI+8yCfpI0nYCca2tAmFNqksAHlmYPYefz0opfs7TmyfUNE1isjCdr7xNjpnDHelSUm2pk4b6YyBDWCp549oFk8nL19Q2uFsAbuhBCDGf8m7qNjAYwBVoJdfqDtYwGHNUri4W0F7zE1SIrp7P9+pcG/xvwhs2xzvpNmZTJ2ajCVEb+lmEtyOQJk8gBj9Hb27Us3Rd8HmutnMbhPVXAv7LSUB5sPjEn6NaCADFAGKpjOHPwfD0uuN271f5wNMG39zzm/j/wFjz0vXtfSzRcAAAAASUVORK5CYII="},22:function(e,t,a){},235:function(e,t,a){},403:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(58),i=a.n(r),o=(a(187),a(13)),l=a.n(o),c=a(24),m=a(12),u=a(39),d=a.n(u),h=a(4),p=a(5),g=a(2),b=a(7),f=a(6),E=a(8),v=a(16),C=(a(10),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onClose=function(e){n.props.onClose&&n.props.onClose(e)&&n.props.onChangeNameClient(n.state.nameClient)&&n.props.onChangeNameFirst(n.state.nameFirst)&&n.props.onChangeNameLast(n.state.nameLast)&&n.props.onChangeEmail(n.state.email)&&n.props.onChangePhone(n.state.phone)&&n.props.onChangeTitle(n.state.title)&&n.props.onChangeStreet(n.state.street)&&n.props.onChangeTown(n.state.town)&&n.props.onChangeState(n.state.state)&&n.props.onChangeZip(n.state.zip)&&n.props.onChangeBillingStreet(n.state.billingStreet)&&n.props.onChangeBillingTown(n.state.billingTown)&&n.props.onChangeBillingState(n.state.billingState)&&n.props.onChangeBillingZip(n.state.billingZip)},n.onChangeNameClient=function(e){n.setState({nameClient:e.target.value})},n.onChangeNameFirst=function(e){n.setState({nameFirst:e.target.value})},n.onChangeNameLast=function(e){n.setState({nameLast:e.target.value})},n.onChangeEmail=function(e){n.setState({email:e.target.value})},n.onChangePhone=function(e){n.setState({phone:e.target.value})},n.onChangeTitle=function(e){n.setState({title:e.target.value})},n.onChangeStreet=function(e){n.setState({street:e.target.value})},n.onChangeTown=function(e){n.setState({town:e.target.value})},n.onChangeState=function(e){n.setState({state:e.target.value})},n.onChangeZip=function(e){n.setState({zip:e.target.value})},n.onChangeBillingStreet=function(e){n.setState({billingStreet:e.target.value})},n.onChangeBillingTown=function(e){n.setState({billingTown:e.target.value})},n.onChangeBillingState=function(e){n.setState({billingState:e.target.value})},n.onChangeBillingZip=function(e){n.setState({billingZip:e.target.value})},n.handleSubmit=function(e){n.props.db.put({_id:(new Date).toJSON(),nameClient:n.state.nameClient,nameFirst:n.state.nameFirst,nameLast:n.state.nameLast,email:n.state.email,phone:n.state.phone,title:n.state.title,street:n.state.street,town:n.state.town,state:n.state.state,zip:n.state.zip,billingStreet:n.state.billingStreet,billingTown:n.state.billingTown,billingState:n.state.billingState,billingZip:n.state.billingZip,activeClient:!0,header:{hex:"#282E31"},active:{hex:"#07E0E0"},secondary:{hex:"#A15BFA"},background:{hex:"#EEE"}}),n.onClose()},n.state={nameClient:"",nameFirst:"",nameLast:"",email:"",phone:"",title:"",street:"",town:"",state:"",zip:"",billingStreet:"",billingTown:"",billingState:"",billingZip:""},n}return Object(p.a)(a,[{key:"render",value:function(){return this.props.show?s.a.createElement("div",{className:"add-client-modal-background"},s.a.createElement("div",{className:"add-client-modal"},s.a.createElement("button",{onClick:this.onClose},"X"),s.a.createElement("h3",null,"Create Client"),s.a.createElement("h5",{className:"modal-label"},"Contact Information"),s.a.createElement("div",{className:"form-container-client"},s.a.createElement("form",null,s.a.createElement("label",null,"Client Name"),s.a.createElement("input",{type:"text",placeholder:"Client Name",onChange:this.onChangeNameClient})),s.a.createElement("form",null,s.a.createElement("label",null,"First Name"),s.a.createElement("input",{type:"text",placeholder:"First Name",onChange:this.onChangeNameFirst})),s.a.createElement("form",null,s.a.createElement("label",null,"Last Name"),s.a.createElement("input",{type:"text",placeholder:"Last Name",onChange:this.onChangeNameLast}))),s.a.createElement("div",{className:"form-container-client"},s.a.createElement("form",null,s.a.createElement("label",null,"Email"),s.a.createElement("input",{type:"text",placeholder:"Email",onChange:this.onChangeEmail})),s.a.createElement("form",null,s.a.createElement("label",null,"Phone"),s.a.createElement("input",{type:"text",placeholder:"Phone",onChange:this.onChangePhone})),s.a.createElement("form",null,s.a.createElement("label",null,"Title"),s.a.createElement("input",{type:"text",placeholder:"Title",onChange:this.onChangeTitle}))),s.a.createElement("h5",{className:"modal-label"},"Address"),s.a.createElement("div",{className:"form-container-client"},s.a.createElement("form",null,s.a.createElement("label",null,"Street"),s.a.createElement("input",{type:"text",placeholder:"Street",onChange:this.onChangeStreet})),s.a.createElement("form",null,s.a.createElement("label",null,"Town"),s.a.createElement("input",{type:"text",placeholder:"Town",onChange:this.onChangeTown})),s.a.createElement("form",null,s.a.createElement("label",null,"State"),s.a.createElement("input",{type:"text",placeholder:"State",onChange:this.onChangeState})),s.a.createElement("form",null,s.a.createElement("label",null,"Zip"),s.a.createElement("input",{type:"text",placeholder:"Zip",onChange:this.onChangeZip}))),s.a.createElement("h5",{className:"modal-label"},"Billing Address"),s.a.createElement("div",{className:"form-container-client"},s.a.createElement("form",null,s.a.createElement("label",null,"Street"),s.a.createElement("input",{type:"text",placeholder:"Street",onChange:this.onChangeBillingStreet})),s.a.createElement("form",null,s.a.createElement("label",null,"Town"),s.a.createElement("input",{type:"text",placeholder:"Town",onChange:this.onChangeBillingTown})),s.a.createElement("form",null,s.a.createElement("label",null,"State"),s.a.createElement("input",{type:"text",placeholder:"State",onChange:this.onChangeBillingState})),s.a.createElement("form",null,s.a.createElement("label",null,"Zip"),s.a.createElement("input",{type:"text",placeholder:"Zip",onChange:this.onChangeBillingZip}))),s.a.createElement("button",{onClick:this.handleSubmit},"Create Client"))):null}}]),a}(n.Component)),y=a(3),N=(a(22),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getClientById(),n.fetchTeams()},n.getClientById=function(){n.props.dbClient.find({selector:{_id:n.props.client._id}}).then((function(e){var t=e.docs;n.setState({doc:t})})).catch((function(e){console.log(e)}))},n.fetchTeams=function(){n.props.dbTeam.find({selector:{parentClient:n.props.client._id}}).then((function(e){var t=e.docs;n.setState({teams:t})})).catch((function(e){console.log(e)}))},n.state={doc:"",teams:null,client:""},n.getClientById=n.getClientById.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"render",value:function(){return""===this.state.doc?null:s.a.createElement("div",null,s.a.createElement(y.b,{to:"/contact/"+this.props.client._id,style:{textDecoration:"none"}},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-stats"},s.a.createElement("div",{className:"card-stats-title"},s.a.createElement("h3",{style:{color:this.props.color,fontSize:"26px",fontWeight:"500"},className:this.props.inactive?"inactive":null},this.props.client.nameClient),s.a.createElement("span",{className:"sub-stat"},this.props.inactive?"Inactive":"Active")),s.a.createElement("h3",{className:this.props.inactive?"inactive":null},this.props.client.nameFirst," ",this.props.client.nameLast),s.a.createElement("h3",{className:this.props.inactive?"inactive":null},this.props.client.email),s.a.createElement("h3",{className:this.props.inactive?"inactive":null},this.state.teams?this.state.teams.length:0)))))}}]),a}(s.a.Component));function S(e){return s.a.createElement("div",{className:"header",style:{background:e.background}},e.image?s.a.createElement("img",{src:e.image,alt:"client logo",height:40}):s.a.createElement("img",{src:a(122),alt:"Local Wisdom logo",height:40}),null===e.game?null:s.a.createElement(y.b,{to:e.admin,style:{textDecoration:"none"}},s.a.createElement("h3",null,"Admin")),null===e.game?null:s.a.createElement(y.b,{to:e.game,style:{textDecoration:"none"}},s.a.createElement("h3",null,"Game")),s.a.createElement(y.b,{to:e.profile,style:{textDecoration:"none",marginLeft:1030}},s.a.createElement("img",{src:a(209),alt:"Profile icon"})))}var w=Object(n.createContext)(null),T=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.mounted=!0,n.getClient(),n.getUser(),n.canceler=n.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){n.getClient()})),n.canceler=n.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){n.getUser()}))},n.getClient=function(){n.setState({clients:null,inactiveClients:null}),n.props.dbClient.allDocs({include_docs:!0}).then((function(e){var t=[],a=[];t=e.rows.map((function(e){return e.doc})),console.log(t[0].activeClient);for(var s=0;s<t.length;s++)!1===t[s].activeClient&&a.push(t.splice(s,1));n.setState({clients:t,inactiveClients:a})})).catch((function(e){console.log(e)}))},n.showModal=function(e){n.setState({showModal:!n.state.showModal})},n.onClose=function(e){n.props.onClose&&n.props.onClose(e)},n.onChangeNameClient=function(e){n.setState({nameClient:e})},n.onChangeNameFirst=function(e){n.setState({nameFirst:e})},n.onChangeNameLast=function(e){n.setState({nameLast:e})},n.onChangeEmail=function(e){n.setState({email:e})},n.onChangePhone=function(e){n.setState({phone:e})},n.onChangeTitle=function(e){n.setState({title:e})},n.onChangeStreet=function(e){n.setState({street:e})},n.onChangeTown=function(e){n.setState({town:e})},n.onChangeState=function(e){n.setState({state:e})},n.onChangeZip=function(e){n.setState({zip:e})},n.onChangeBillingStreet=function(e){n.setState({billingStreet:e})},n.onChangeBillingTown=function(e){n.setState({billingTown:e})},n.onChangeBillingState=function(e){n.setState({billingState:e})},n.onChangeBillingZip=function(e){n.setState({billingZip:e})},n.openModal=n.openModal.bind(Object(g.a)(n)),n.getClient=n.getClient.bind(Object(g.a)(n)),n.getUser=n.getUser.bind(Object(g.a)(n)),n.sortByEmail=n.sortByEmail.bind(Object(g.a)(n)),n.sortByNameLast=n.sortByNameLast.bind(Object(g.a)(n)),n.state={clients:null,inactiveClients:null,userData:null,showModal:!1,nameClient:"",nameFirst:"",nameLast:"",email:"",phone:"",title:"",street:"",town:"",state:"",zip:"",billingStreet:"",billingTown:"",billingState:"",billingZip:""},n}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(){document.body.style.background="#F3F3F3"}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"openModal",value:function(e){e.preventDefault(),this.setState({showModal:!0})}},{key:"sortByEmail",value:function(){if(this.state.clients){var e=this.state.clients.slice();e.sort((function(e,t){return e.email.localeCompare(t.email)})),this.setState({clients:e})}}},{key:"sortByNameLast",value:function(){if(this.state.clients){var e=this.state.clients.slice();e.sort((function(e,t){return e.nameLast.localeCompare(t.nameLast)})),this.setState({clients:e})}}},{key:"clientList",value:function(){var e=this;return this.state.clients.map((function(t,a){return s.a.createElement(N,{client:t,key:a,dbClient:e.props.dbClient,dbTeam:e.props.dbTeam,color:"#07E0E0",inactive:!1})}))}},{key:"inactiveClientList",value:function(){var e=this;return this.state.inactiveClients.map((function(t,a){return s.a.createElement(N,{client:t[0],key:a,dbClient:e.props.dbClient,dbTeam:e.props.dbTeam,color:"#999",inactive:!0})}))}},{key:"render",value:function(){return null===this.state.clients?null:this.state.userData&&this.state.userData.admin?s.a.createElement("div",null,s.a.createElement(S,{admin:"/clients",game:null,profile:"/profile/"+this.state.userData._id}),s.a.createElement("div",{className:"info add-container add-container-client"},s.a.createElement("h3",{style:{fontWeight:"400",fontSize:"48px"}},"Clients"),s.a.createElement("button",{className:"add-input",onClick:this.openModal.bind(this)},s.a.createElement("span",null,s.a.createElement(v.a,{size:30,color:"#07E0E0"}))," ","Add Client"),s.a.createElement(C,{onClose:this.showModal,show:this.state.showModal,onChangeNameClient:this.onChangeNameClient,onChangeNameFirst:this.onChangeNameFirst,onChangeNameLast:this.onChangeNameLast,onChangeEmail:this.onChangeEmail,onChangePhone:this.onChangePhone,onChangeTitle:this.onChangeTitle,onChangeStreet:this.onChangeStreet,onChangeTown:this.onChangeTown,onChangeState:this.onChangeState,onChangeZip:this.onChangeZip,onChangeBillingStreet:this.onChangeBillingStreet,onChangeBillingTown:this.onChangeBillingTown,onChangeBillingState:this.onChangeBillingState,onChangeBillingZip:this.onChangeBillingZip,db:this.props.dbClient})),s.a.createElement("ul",{className:"nav"},s.a.createElement("h3",{className:"links"},"Active"),s.a.createElement("h4",{className:"links"},"Inactive")),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",{style:{fontWeight:"300",fontSize:"24px"}},this.state.clients.length," Active Clients"),s.a.createElement("h3",null,"Name"," ",s.a.createElement("span",{onClick:this.sortByNameLast},s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Email"," ",s.a.createElement("span",{onClick:this.sortByEmail},s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Teams"," ",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15})))),this.clientList()),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",{style:{fontWeight:"300",fontSize:"24px"}},this.state.inactiveClients.length," Inactive Clients"),s.a.createElement("h3",null,"Name"," ",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Email"," ",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Teams"," ",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15})))),this.inactiveClientList())):null}}]),a}(n.Component);function k(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(T,{userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var O=a(404),A=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).fetchClient=function(){n.props.dbClient.find({selector:{_id:n.state.parentClient}}).then((function(e){var t=e.docs[0];try{var a=URL.createObjectURL(t.logo)}catch(s){console.log(s)}n.setState({client:t,nameClient:t.nameClient,nameFirst:t.nameFirst,nameLast:t.nameLast,email:t.email,phone:t.phone,title:t.title,street:t.street,town:t.town,state:t.state,zip:t.zip,billingStreet:t.billingStreet,billingTown:t.billingTown,billingState:t.billingState,billingZip:t.billingZip,activeClient:t.activeClient,header:t.header.hex,active:t.active.hex,secondary:t.secondary.hex,background:t.background.hex,headerImage:a})})).catch((function(e){console.log(e)}))},n.changeActive=function(){var e=!n.state.activeClient,t=n.props.dbClient,a=n.state.parentClient;n.props.dbClient.get(a).then((function(a){return a.activeClient=e,t.put(a)})).then((function(){return t.get(a)})).then((function(e){console.log(e)}))},n.editContactInformation=function(){n.setState({contactInformation:"edit"})},n.readContactInformation=function(){n.setState({contactInformation:"read"})},n.editAddress=function(){n.setState({contactAddress:"edit"})},n.readAddress=function(){n.setState({contactAddress:"read"})},n.editBillingAddress=function(){n.setState({contactBillingAddress:"edit"})},n.readBillingAddress=function(){n.setState({contactBillingAddress:"read"})},n.onChangeNameFirst=function(e){n.setState({nameFirst:e.target.value})},n.onChangeNameLast=function(e){n.setState({nameLast:e.target.value})},n.onChangeTitle=function(e){n.setState({title:e.target.value})},n.onChangePhone=function(e){n.setState({phone:e.target.value})},n.onChangeEmail=function(e){n.setState({email:e.target.value})},n.onChangeStreet=function(e){n.setState({street:e.target.value})},n.onChangeTown=function(e){n.setState({town:e.target.value})},n.onChangeState=function(e){n.setState({state:e.target.value})},n.onChangeZip=function(e){n.setState({zip:e.target.value})},n.onChangeBillingStreet=function(e){n.setState({billingStreet:e.target.value})},n.onChangeBillingTown=function(e){n.setState({billingTown:e.target.value})},n.onChangeBillingState=function(e){n.setState({billingState:e.target.value})},n.onChangeBillingZip=function(e){n.setState({billingZip:e.target.value})},n.saveContactInformation=function(){var e=n.state.nameFirst,t=n.state.nameLast,a=n.state.email,s=n.state.phone,r=n.state.title,i=n.props.dbClient,o=n.state.parentClient;n.props.dbClient.get(o).then((function(n){return n.nameFirst=e,n.nameLast=t,n.email=a,n.phone=s,n.title=r,i.put(n)})).then((function(){return i.get(o)})).then((function(e){console.log(e)})),n.setState({contactInformation:"read"})},n.saveAddress=function(){var e=n.state.street,t=n.state.town,a=n.state.state,s=n.state.zip,r=n.props.dbClient,i=n.state.parentClient;n.props.dbClient.get(i).then((function(n){return n.street=e,n.town=t,n.state=a,n.zip=s,r.put(n)})).then((function(){return r.get(i)})).then((function(e){console.log(e)})),n.setState({contactAddress:"read"})},n.saveBillingAddress=function(){var e=n.state.billingStreet,t=n.state.billingTown,a=n.state.billingState,s=n.state.billingZip,r=n.props.dbClient,i=n.state.parentClient;n.props.dbClient.get(i).then((function(n){return n.billingStreet=e,n.billingTown=t,n.billingState=a,n.billingZip=s,r.put(n)})).then((function(){return r.get(i)})).then((function(e){console.log(e)})),n.setState({contactBillingAddress:"read"})},n.fetchClient.bind(Object(g.a)(n)),n.getUser=n.getUser.bind(Object(g.a)(n)),n.editContactInformation.bind(Object(g.a)(n)),n.readContactInformation.bind(Object(g.a)(n)),n.editAddress.bind(Object(g.a)(n)),n.readAddress.bind(Object(g.a)(n)),n.editBillingAddress.bind(Object(g.a)(n)),n.readBillingAddress.bind(Object(g.a)(n)),n.onChangeNameFirst.bind(Object(g.a)(n)),n.onChangeNameLast.bind(Object(g.a)(n)),n.onChangeEmail.bind(Object(g.a)(n)),n.onChangePhone.bind(Object(g.a)(n)),n.onChangeTitle.bind(Object(g.a)(n)),n.onChangeStreet.bind(Object(g.a)(n)),n.onChangeTown.bind(Object(g.a)(n)),n.onChangeState.bind(Object(g.a)(n)),n.onChangeZip.bind(Object(g.a)(n)),n.onChangeBillingStreet.bind(Object(g.a)(n)),n.onChangeBillingTown.bind(Object(g.a)(n)),n.onChangeBillingState.bind(Object(g.a)(n)),n.onChangeBillingZip.bind(Object(g.a)(n)),n.saveContactInformation.bind(Object(g.a)(n)),n.saveAddress.bind(Object(g.a)(n)),n.saveBillingAddress.bind(Object(g.a)(n)),n.changeActive.bind(Object(g.a)(n)),n.state={parentClient:n.props.location,userData:null,client:null,nameClient:"",nameFirst:"",nameLast:"",email:"",phone:"",title:"",street:"",town:"",state:"",zip:"",billingStreet:"",billingTown:"",billingState:"",billingZip:"",contactInformation:"read",contactAddress:"read",contactBillingAddress:"read",activeClient:null,header:"",active:"",secondary:"",background:"",headerImage:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.fetchClient(),this.getUser(),this.canceler=this.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getUser()}))}},{key:"componentDidUpdate",value:function(){document.body.style.background=this.state.background}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.client&&this.state.userData&&this.state.userData.admin?s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:"/playHome/"+this.state.parentClient,background:this.state.header,image:this.state.headerImage,profile:"/profile/"+this.state.userData._id}),s.a.createElement("div",{className:"info"},s.a.createElement(y.b,{className:"back",to:"/clients",style:{color:this.state.active}},s.a.createElement("h3",{style:{color:this.state.active}},"\u2190 Back"))),s.a.createElement("div",{className:"info title"},s.a.createElement("h3",null,"Clients")),s.a.createElement("div",{className:"info add-container"},s.a.createElement("h3",null,this.state.client.nameClient),s.a.createElement("h5",null,s.a.createElement("span",null,"Active"),s.a.createElement(O.a,{checked:this.state.activeClient,onChange:this.changeActive}))),s.a.createElement("ul",{className:"nav"},s.a.createElement("h3",{className:"links",style:{color:this.state.active,marginBottom:"30px"}},"Contact Information"),s.a.createElement(y.b,{className:"links",to:"/teams/"+this.state.parentClient},"Teams"),s.a.createElement(y.b,{className:"links",to:"/users/"+this.state.parentClient},"Users"),s.a.createElement(y.b,{className:"links",to:"/games/"+this.state.parentClient},"Quizzes"),s.a.createElement(y.b,{className:"links",to:"/themes/"+this.state.parentClient},"Themes")),s.a.createElement("div",{className:"contact-container"},s.a.createElement("div",{className:"contact-heading"},s.a.createElement("h3",null,"Contact Information"),"read"===this.state.contactInformation?s.a.createElement("span",{onClick:this.editContactInformation},s.a.createElement(E.c,{color:this.state.active,size:20})):"edit"===this.state.contactInformation?s.a.createElement("div",null,s.a.createElement("button",{className:"info-save",onClick:this.saveContactInformation,style:{background:this.state.active}},"Save"),s.a.createElement("button",{className:"info-cancel",onClick:this.readContactInformation,style:{border:"1px solid"+this.state.active,color:this.state.active}},"Cancel")):null),s.a.createElement("div",{className:"contact-card"},s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"FIRST NAME"),"read"===this.state.contactInformation?s.a.createElement("h5",null,this.state.client.nameFirst):"edit"===this.state.contactInformation?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.nameFirst,onChange:this.onChangeNameFirst}):null),s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"LAST NAME"),"read"===this.state.contactInformation?s.a.createElement("h5",null,this.state.client.nameLast):"edit"===this.state.contactInformation?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.nameLast,onChange:this.onChangeNameLast}):null),s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"TITLE"),"read"===this.state.contactInformation?s.a.createElement("h5",null,this.state.client.email):"edit"===this.state.contactInformation?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.email,onChange:this.onChangeEmail}):null),s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"PHONE"),"read"===this.state.contactInformation?s.a.createElement("h5",null,this.state.client.phone):"edit"===this.state.contactInformation?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.phone,onChange:this.onChangePhone}):null),s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"EMAIL"),"read"===this.state.contactInformation?s.a.createElement("h5",null,this.state.client.title):"edit"===this.state.contactInformation?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.title,onChange:this.onChangeTitle}):null))),s.a.createElement("div",{className:"contact-container"},s.a.createElement("div",{className:"contact-heading"},s.a.createElement("h3",null,"Address"),"read"===this.state.contactAddress?s.a.createElement("span",{onClick:this.editAddress},s.a.createElement(E.c,{color:this.state.active,size:20})):"edit"===this.state.contactAddress?s.a.createElement("div",null,s.a.createElement("button",{className:"info-save",onClick:this.saveAddress,style:{background:this.state.active}},"Save"),s.a.createElement("button",{className:"info-cancel",onClick:this.readAddress,style:{border:"1px solid"+this.state.active,color:this.state.active}},"Cancel")):null),s.a.createElement("div",{className:"contact-card"},s.a.createElement("div",{className:"contact-content-street"},s.a.createElement("h4",{style:{color:this.state.active}},"STREET"),"read"===this.state.contactAddress?s.a.createElement("h5",null,this.state.client.street):"edit"===this.state.contactAddress?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.street,onChange:this.onChangeStreet}):null),s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"TOWN"),"read"===this.state.contactAddress?s.a.createElement("h5",null,this.state.client.town):"edit"===this.state.contactAddress?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.town,onChange:this.onChangeTown}):null),s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"STATE"),"read"===this.state.contactAddress?s.a.createElement("h5",null,this.state.client.state):"edit"===this.state.contactAddress?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.state,onChange:this.onChangeState}):null),s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"ZIP"),"read"===this.state.contactAddress?s.a.createElement("h5",null,this.state.client.zip):"edit"===this.state.contactAddress?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.zip,onChange:this.onChangeZip}):null))),s.a.createElement("div",{className:"contact-container"},s.a.createElement("div",{className:"contact-heading"},s.a.createElement("h3",null,"Billing Address"),"read"===this.state.contactBillingAddress?s.a.createElement("span",{onClick:this.editBillingAddress},s.a.createElement(E.c,{color:this.state.active,size:20})):"edit"===this.state.contactBillingAddress?s.a.createElement("div",null,s.a.createElement("button",{className:"info-save",onClick:this.saveBillingAddress,style:{background:this.state.active}},"Save"),s.a.createElement("button",{className:"info-cancel",onClick:this.readBillingAddress,style:{border:"1px solid"+this.state.active,color:this.state.active}},"Cancel")):null),s.a.createElement("div",{className:"contact-card"},s.a.createElement("div",{className:"contact-content-street"},s.a.createElement("h4",{style:{color:this.state.active}},"STREET"),"read"===this.state.contactBillingAddress?s.a.createElement("h5",null,this.state.client.billingStreet):"edit"===this.state.contactBillingAddress?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.billingStreet,onChange:this.onChangeBillingStreet}):null),s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"TOWN"),"read"===this.state.contactBillingAddress?s.a.createElement("h5",null,this.state.client.billingTown):"edit"===this.state.contactBillingAddress?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.billingTown,onChange:this.onChangeBillingTown}):null),s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"STATE"),"read"===this.state.contactBillingAddress?s.a.createElement("h5",null,this.state.client.billingState):"edit"===this.state.contactBillingAddress?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.billingState,onChange:this.onChangeBillingState}):null),s.a.createElement("div",{className:"contact-content"},s.a.createElement("h4",{style:{color:this.state.active}},"ZIP"),"read"===this.state.contactBillingAddress?s.a.createElement("h5",null,this.state.client.billingZip):"edit"===this.state.contactBillingAddress?s.a.createElement("input",{type:"text",style:{borderColor:this.state.active},value:this.state.billingZip,onChange:this.onChangeBillingZip}):null)))):null}}]),a}(n.Component);function j(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(A,{location:e.location.pathname.replace("/contact/",""),userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var D=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onClose=function(e){n.props.onClose&&n.props.onClose(e)&&n.props.onChangeTeamName(n.state.name),n.setState({name:""})},n.onChangeName=function(e){n.setState({name:e.target.value})},n.handleSubmit=function(e){n.props.db.put({_id:(new Date).toJSON(),name:n.state.name,parentClient:n.props.parentClient,activeTeam:!0}),n.onClose()},n.state={name:""},n}return Object(p.a)(a,[{key:"render",value:function(){return this.props.show?s.a.createElement("div",{className:"add-game-modal-background"},s.a.createElement("div",{className:"add-game-modal"},s.a.createElement("button",{onClick:this.onClose},"X"),s.a.createElement("h3",null,"Create Team"),s.a.createElement("form",null,s.a.createElement("label",{style:{color:this.props.color}},"Team Name"),s.a.createElement("input",{type:"text",maxLength:"40",placeholder:"Team Name",onChange:this.onChangeName,onMouseEnter:this.toggleFocus,onMouseLeave:this.toggleFocus,style:{borderColor:this.props.color}})),s.a.createElement("span",null,this.state.name?this.state.name.length+"/ 40 characters":"40 character limit"),s.a.createElement("button",{onClick:this.handleSubmit,style:{background:this.props.color},className:"add-modal-button"},"Create Team"))):null}}]),a}(n.Component),U=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getTeamById(),n.fetchGames(),n.getUsers()},n.getTeamById=function(){n.props.dbTeam.find({selector:{_id:n.props.team._id}}).then((function(e){var t=e.docs;n.setState({doc:t,activeTeam:t[0].activeTeam})})).catch((function(e){console.log(e)}))},n.fetchGames=function(){n.props.dbGame.find({selector:{parentTeam:n.props.team._id}}).then((function(e){var t=e.docs;n.setState({games:t})})).catch((function(e){console.log(e)}))},n.getUsers=function(){n.props.dbUser.find({selector:{parentTeam:n.props.team._id}}).then((function(e){var t=e.docs;n.setState({users:t}),console.log(t)})).catch((function(e){console.log(e)}))},n.changeActive=function(){var e=!n.state.activeTeam,t=n.props.dbTeam,a=n.props.team._id;t.get(a).then((function(a){return a.activeTeam=e,t.put(a)})).then((function(){return t.get(a)})).then((function(e){console.log(e)}))},n.changeActive.bind(Object(g.a)(n)),n.state={doc:"",games:null,users:null,team:"",activeTeam:null},n.getTeamById=n.getTeamById.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"rating",value:function(){var e=0;return this.state.rating.map((function(t,a){return e+=t.rating})),0===this.state.rating.length?0:e/this.state.rating.length}},{key:"timeEstimation",value:function(){return Number(this.state.doc[0].timePerQuestion)*Number(this.state.questions?this.state.questions.length:0)}},{key:"render",value:function(){return""===this.state.doc||null===this.state.rating?null:s.a.createElement("div",null,s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-stats"},s.a.createElement("div",{className:"card-stats-title"},s.a.createElement("h3",{style:{color:this.props.color,fontSize:"26px",fontWeight:"500"}},s.a.createElement(y.b,{to:"/editTeam/games/"+this.props.team._id,style:{textDecoration:"none",color:this.props.color}},this.props.team.name)),s.a.createElement("span",{className:"sub-stat"},this.props.active?"Active":"Inactive")),s.a.createElement("h3",{className:"team-active"},s.a.createElement("span",null,"Active"),s.a.createElement(O.a,{checked:this.props.active,onChange:this.changeActive})),s.a.createElement("h3",null,this.state.games?this.state.games.length:0),s.a.createElement("h3",null,this.state.users?this.state.users.length:0))))}}]),a}(s.a.Component),x=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).fetchClient=function(){n.setState({clientName:""}),n.props.dbClient.find({selector:{_id:n.state.parentClient}}).then((function(e){var t=e.docs[0];if(t.logo)var a=URL.createObjectURL(t.logo);n.setState({clientName:t.nameClient,header:t.header.hex,active:t.active.hex,secondary:t.secondary.hex,background:t.background.hex,headerImage:a}),console.log(n.state.clientName)})).catch((function(e){console.log(e)}))},n.fetchTeams=function(){n.setState({teams:null,inactiveTeams:null}),n.props.dbTeam.find({selector:{parentClient:n.state.parentClient}}).then((function(e){var t=e.docs;if(t){var a=[],s=[];a=t;for(var r=0;r<a.length;r++)!1===a[r].activeTeam&&s.push(a.splice(r,1));n.setState({teams:a,inactiveClients:s})}})).catch((function(e){console.log(e)}))},n.showModal=function(e){n.setState({showModal:!n.state.showModal})},n.onClose=function(e){n.props.onClose&&n.props.onClose(e)},n.onChangeTeamName=function(e){n.setState({teamName:e})},n.openModal.bind(Object(g.a)(n)),n.fetchTeams.bind(Object(g.a)(n)),n.fetchClient.bind(Object(g.a)(n)),n.getUser=n.getUser.bind(Object(g.a)(n)),n.state={parentClient:n.props.location,userData:null,teams:null,inactiveTeams:null,clientName:"",showModal:!1,teamName:"",header:"",active:"",secondary:"",background:"",headerImage:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.fetchTeams(),this.fetchClient(),this.getUser(),this.canceler=this.props.dbTeam.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchTeams()})),this.canceler=this.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getUser()}))}},{key:"componentDidUpdate",value:function(){document.body.style.background=this.state.background}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"openModal",value:function(e){e.preventDefault(),this.setState({showModal:!0})}},{key:"teamList",value:function(){var e=this;return this.state.teams.map((function(t,a){return s.a.createElement(U,{key:a,team:t,dbGame:e.props.dbGame,dbTeam:e.props.dbTeam,dbUser:e.props.dbUser,color:e.state.active,active:!0})}))}},{key:"inactiveteamList",value:function(){var e=this;if(this.state.inactiveTeams)return this.state.inactiveTeams.map((function(t,a){return s.a.createElement(U,{key:a,team:t,dbGame:e.props.dbGame,dbTeam:e.props.dbTeam,dbUser:e.props.dbUser,color:e.state.active,inactive:!1})}))}},{key:"render",value:function(){return null===this.state.teams?null:this.state.userData&&(this.state.userData.admin||this.state.userData.teamEditor||this.state.userData.gameEditor)?s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:"/playHome/"+this.state.parentClient,background:this.state.header,image:this.state.headerImage,profile:"/profile/"+this.state.userData._id}),s.a.createElement("div",{className:"info"},this.state.userData.admin?s.a.createElement(y.b,{className:"back",to:"/clients",style:{color:this.state.active}},s.a.createElement("h3",{style:{color:this.state.active}},"\u2190 Back")):null),s.a.createElement("div",{className:"info title"},this.state.userData.admin?s.a.createElement("h3",null,"Clients"):null),s.a.createElement("div",{className:"info add-container"},s.a.createElement("h3",null,this.state.clientName),this.state.userData.admin||this.state.userData.teamEditor?s.a.createElement("button",{style:{color:this.state.active},className:"add-input",onClick:this.openModal.bind(this)},s.a.createElement("span",null,s.a.createElement(v.a,{size:30,color:this.state.active}))," ","Add Team"):null,s.a.createElement(D,{onClose:this.showModal,show:this.state.showModal,onChangeTeamName:this.onChangeTeamName,parentClient:this.state.parentClient,db:this.props.dbTeam,color:this.state.active})),s.a.createElement("ul",{className:"nav"},this.state.userData.admin?s.a.createElement(y.b,{className:"links",to:"/contact/"+this.state.parentClient},"Contact Information"):null,s.a.createElement("h3",{className:"links",style:{color:this.state.active}},"Teams"),this.state.userData.admin||this.state.userData.teamEditor?s.a.createElement(y.b,{className:"links",to:"/users/"+this.state.parentClient},"Users"):null,this.state.userData.admin||this.state.userData.gameEditor?s.a.createElement(y.b,{className:"links",to:"/games/"+this.state.parentClient},"Quizzes"):null,this.state.userData.admin||this.state.userData.themeEditor?s.a.createElement(y.b,{className:"links",to:"/themes/"+this.state.parentClient},"Themes"):null),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",{style:{fontWeight:"300",fontSize:"1.5rem"}},this.state.teams.length," Active Teams"),s.a.createElement("h3",null),s.a.createElement("h3",null,"Quizzes",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Users",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15})))),this.teamList(),this.inactiveteamList())):null}}]),a}(n.Component);function Q(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(x,{location:e.location.pathname.replace("/teams/",""),userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var _=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onClose=function(e){n.props.onClose&&n.props.onClose(e)&&n.props.onChangeGameName(n.state.name),n.setState({name:""})},n.onChangeName=function(e){n.setState({name:e.target.value})},n.handleSubmit=function(e){n.props.db.put({_id:(new Date).toJSON(),name:n.state.name,parentClient:n.props.parentClient,parentTeam:n.props.parentTeam,timePerQuestion:20}),n.onClose()},n.state={name:""},n}return Object(p.a)(a,[{key:"render",value:function(){return this.props.show?s.a.createElement("div",{className:"add-game-modal-background"},s.a.createElement("div",{className:"add-game-modal"},s.a.createElement("button",{onClick:this.onClose},"X"),s.a.createElement("h3",null,"Create Quiz"),s.a.createElement("form",null,s.a.createElement("label",{style:{color:this.props.color}},"Quiz Name"),s.a.createElement("input",{type:"text",placeholder:"Quiz Name",maxLength:"40",style:{borderColor:this.props.color},onChange:this.onChangeName})),s.a.createElement("span",null,this.state.name?this.state.name.length+"/ 40 characters":"40 character limit"),s.a.createElement("button",{onClick:this.handleSubmit,style:{background:this.props.color},className:"add-modal-button"},"Create Quiz"))):null}}]),a}(n.Component),G=a(21),I=(a(130),function(e){return s.a.createElement("div",null,Object(G.a)(Array(5)).map((function(t,a){var n=a+1;return s.a.createElement("label",{key:a},s.a.createElement(E.d,{className:"star",color:n<=e.rating?e.color:"#e4e5e9",size:30}))})))}),B=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getGameById(),n.getRating(),n.getQuestions()},n.getGameById=function(){n.props.dbGame.find({selector:{_id:n.props.game._id}}).then((function(e){var t=e.docs;n.setState({doc:t})})).catch((function(e){console.log(e)})),n.fetchTeam()},n.fetchTeam=function(){n.props.dbTeam.find({selector:{_id:n.props.game.parentTeam}}).then((function(e){var t=e.docs[0];n.setState({team:t.name})})).catch((function(e){console.log(e)}))},n.getRating=function(){n.props.dbRating.find({selector:{game:n.props.game._id}}).then((function(e){var t=e.docs;n.setState({rating:t}),console.log(t)})).catch((function(e){console.log(e)}))},n.getQuestions=function(){n.props.dbQuestion.find({selector:{parentGame:n.props.game._id}}).then((function(e){var t=e.docs;n.setState({questions:t}),console.log(t)})).catch((function(e){console.log(e)}))},n.state={doc:"",questions:null,rating:null,team:""},n.getGameById=n.getGameById.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"rating",value:function(){var e=0;return this.state.rating.map((function(t,a){return e+=t.rating})),0===this.state.rating.length?0:e/this.state.rating.length}},{key:"timeEstimation",value:function(){return Number(this.state.doc[0].timePerQuestion)*Number(this.state.questions?this.state.questions.length:0)}},{key:"render",value:function(){return""===this.state.doc||null===this.state.rating?null:s.a.createElement("div",null,s.a.createElement(y.b,{to:"/editGame/"+this.props.game._id,style:{textDecoration:"none"}},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-stats"},s.a.createElement("div",{className:"card-stats-title"},s.a.createElement("h3",{style:{color:this.props.color,fontSize:"26px",fontWeight:"500"}},this.props.game.name),s.a.createElement("span",{className:"sub-stat"},this.state.team)),s.a.createElement("h3",null,this.props.team?this.state.team:s.a.createElement(I,{color:this.props.color,rating:Math.floor(this.rating())})),s.a.createElement("h3",null,this.state.questions?this.state.questions.length:0),s.a.createElement("h3",null,this.timeEstimation()<60?this.timeEstimation()+" sec":Math.round(this.timeEstimation()/60)+" min")))))}}]),a}(s.a.Component),z=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).fetchGames=function(){n.props.dbGame.find({selector:{parentTeam:n.state.parentTeam}}).then((function(e){var t=e.docs;console.log(t),n.setState({games:t})})).catch((function(e){console.log(e)}))},n.fetchClient=function(){n.setState({parentClientId:""}),n.props.dbTeam.find({selector:{_id:n.state.parentTeam}}).then((function(e){var t=e.docs[0];n.setState({parentClientId:t.parentClient,parentTeamName:t.name}),n.props.dbClient.find({selector:{_id:t.parentClient}}).then((function(e){var t=e.docs[0];if(t.logo)var a=URL.createObjectURL(t.logo);n.setState({parentClientName:t.nameClient,header:t.header.hex,active:t.active.hex,secondary:t.secondary.hex,background:t.background.hex,headerImage:a})})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},n.showModal=function(e){n.setState({showModal:!n.state.showModal})},n.onClose=function(e){n.props.onClose&&n.props.onClose(e)},n.onChangeGameName=function(e){n.setState({gameName:e})},n.openModal.bind(Object(g.a)(n)),n.fetchGames.bind(Object(g.a)(n)),n.fetchClient.bind(Object(g.a)(n)),n.getUser=n.getUser.bind(Object(g.a)(n)),n.state={parentTeam:n.props.location,parentTeamName:"",userData:null,games:null,parentClientId:"",parentClientName:"",showModal:!1,gameName:"",header:"",active:"",secondary:"",background:"",headerImage:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.fetchGames(),this.fetchClient(),this.getUser(),this.canceler=this.props.dbGame.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchGames()})),this.canceler=this.props.dbTeam.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getUser()}))}},{key:"componentDidUpdate",value:function(){document.body.style.background=this.state.background}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"openModal",value:function(e){e.preventDefault(),this.setState({showModal:!0})}},{key:"quizList",value:function(){var e=this;return this.state.games.map((function(t,a){return s.a.createElement(B,{key:a,game:t,dbGame:e.props.dbGame,dbRating:e.props.dbRating,dbQuestion:e.props.dbQuestion,dbTeam:e.props.dbTeam,color:e.state.active})}))}},{key:"render",value:function(){return this.state.parentTeamName&&this.state.userData&&(this.state.userData.admin||this.state.userData.teamEditor||this.state.userData.gameEditor)?s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:"/playHome/"+this.state.parentClientId,background:this.state.header,image:this.state.headerImage,profile:"/profile/"+this.state.userData._id}),s.a.createElement("div",{className:"info"},this.state.userData.admin||this.state.userData.teamEditor||this.state.userData.gameEditor?s.a.createElement(y.b,{className:"back",to:"/teams/"+this.state.parentClientId,style:{color:this.state.active}},s.a.createElement("h3",{style:{color:this.state.active}},"\u2190 Back to Teams")):null),s.a.createElement("div",{className:"info title"},this.state.userData.admin||this.state.userData.teamEditor||this.state.userData.gameEditor?s.a.createElement("h3",null,this.state.parentClientName):null),s.a.createElement("div",{className:"info add-container"},s.a.createElement("h3",null,this.state.parentTeamName),this.state.userData.admin||this.state.userData.teamEditor||this.state.userData.gameEditor?s.a.createElement("button",{style:{color:this.state.active},className:"add-input",onClick:this.openModal.bind(this)},s.a.createElement("span",null,s.a.createElement(v.a,{size:30,color:this.state.active}))," ","Add Quiz"):null,s.a.createElement(_,{onClose:this.showModal,show:this.state.showModal,onChangeGameName:this.onChangeGameName,parentTeam:this.state.parentTeam,parentClient:this.state.parentClientId,db:this.props.dbGame,color:this.state.active})),s.a.createElement("ul",{className:"nav"},s.a.createElement("h3",{className:"links",style:{color:this.state.active}},"Quizzes"),this.state.userData.admin||this.state.userData.teamEditor?s.a.createElement(y.b,{className:"links",to:"/editTeam/users/"+this.state.parentTeam},"Users"):null),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",{style:{fontWeight:"300",fontSize:"24px"}},this.state.games?this.state.games.length:0," Active Quizzes"),s.a.createElement("h3",null,"Rating",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Questions",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Completion Time",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15})))),this.quizList())):null}}]),a}(n.Component);function q(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(z,{location:e.location.pathname.replace("/editTeam/games/",""),userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var L=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onClose=function(e){n.props.onClose&&n.props.onClose(e)&&n.props.onChangeUsername(n.state.username)&&n.props.onChangeEmail(n.state.email)},n.onChangeUsername=function(e){n.setState({username:e.target.value})},n.onChangeEmail=function(e){n.setState({email:e.target.value})},n.handleSubmit=function(e){n.props.db.put({_id:(new Date).toJSON(),username:n.state.username,email:n.state.email,parentTeam:n.props.parentTeam}),n.onClose()},n.state={username:"",email:""},n}return Object(p.a)(a,[{key:"render",value:function(){return this.props.show?s.a.createElement("div",{className:"add-user-modal-background"},s.a.createElement("div",{className:"add-user-modal"},s.a.createElement("button",{onClick:this.onClose},"X"),s.a.createElement("h3",null,"Add User"),s.a.createElement("form",null,s.a.createElement("label",{style:{color:this.props.color}},"USERNAME"),s.a.createElement("input",{type:"text",style:{borderColor:this.props.color},placeholder:"username",onChange:this.onChangeUsername})),s.a.createElement("div",{className:"hr"},s.a.createElement("div",null),s.a.createElement("span",null,"OR"),s.a.createElement("div",null)),s.a.createElement("form",null,s.a.createElement("label",{style:{color:this.props.color}},"EMAIL"),s.a.createElement("input",{type:"text",placeholder:"email",style:{borderColor:this.props.color},onChange:this.onChangeEmail})),s.a.createElement("button",{onClick:this.handleSubmit,style:{background:this.props.color},className:"add-modal-button"},"Add User"))):null}}]),a}(n.Component),M=a(23),P=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n,s;return Object(h.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){s.getUserById(),s.getGames(),s.getScoreDocs()},s.getUserById=function(){s.props.dbUser.find({selector:{parentTeam:s.props.teamId}}).then((function(e){var t=e.docs;s.setState({doc:t}),console.log(s.state.doc),console.log(s.props.teamId)})).catch((function(e){console.log(e)})),s.fetchTeam()},s.fetchTeam=function(){s.props.dbTeam.find({selector:{_id:s.props.user.parentTeam}}).then((function(e){var t=e.docs[0];s.setState({team:t}),console.log(t)})).catch((function(e){console.log(e)}))},s.getGames=function(){s.props.dbGame.find({selector:{parentTeam:s.props.user.parentTeam}}).then((function(e){var t=e.docs;s.setState({games:t}),console.log(s.state.games)})).catch((function(e){console.log(e)}))},s.reducerScore=function(e,t){return NaN==e.score||NaN==t.score?void 0:Number(e)+Number(t.score)},s.reducerTime=function(e,t){return NaN==e.time||NaN==t.time?void 0:Number(e)+Number(t.time)},s.reducerQuestions=function(e,t){return NaN==e.questions||NaN==t.questions?void 0:Number(e)+Number(t.questions)},s.reducerCorrect=function(e,t){return NaN==e.correct||NaN==t.correct?void 0:Number(e)+Number(t.correct)},s.state=(n={doc:"",questions:null,team:"",games:null,scoreDocs:null,gamesPlayed:null,totScore:0,avgTime:0,totalScore:null,totTime:null,totQ:null},Object(M.a)(n,"avgTime",null),Object(M.a)(n,"percentCorrect",null),Object(M.a)(n,"questionsCorrect",null),n),s.getUserById=s.getUserById.bind(Object(g.a)(s)),s.getScoreDocs=s.getScoreDocs.bind(Object(g.a)(s)),s.getTotalScore=s.getTotalScore.bind(Object(g.a)(s)),s.reducerScore=s.reducerScore.bind(Object(g.a)(s)),s.reducerTime=s.reducerTime.bind(Object(g.a)(s)),s.reducerQuestions=s.reducerQuestions.bind(Object(g.a)(s)),s.reducerCorrect=s.reducerCorrect.bind(Object(g.a)(s)),s.getTotTime=s.getTotTime.bind(Object(g.a)(s)),s.getTotQuestions=s.getTotQuestions.bind(Object(g.a)(s)),s.getQuestionCorrect=s.getQuestionCorrect.bind(Object(g.a)(s)),s}return Object(p.a)(a,[{key:"getScoreDocs",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dbScore.find({selector:{user:this.props.user._id}}).then((function(e){var a=e.docs;t.setState({scoreDocs:a,gamesPlayed:a.length}),console.log(t.state.scoreDocs),console.log(t.props.user._id),console.log(t.props)})).catch((function(e){console.log(e)}));case 2:this.getTotalScore(),this.getTotTime(),this.getTotQuestions(),this.getQuestionCorrect();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTotalScore",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerScore,0));this.setState({totalScore:e})}},{key:"getTotTime",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerTime,0));this.setState({totTime:e})}},{key:"getTotQuestions",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerQuestions,0));this.setState({totQ:e,avgTime:this.state.totTime/e})}},{key:"getQuestionCorrect",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerCorrect,0));this.setState({questionsCorrect:e,percentCorrect:e/this.state.totQ*100})}},{key:"render",value:function(){return""===this.state.doc?null:s.a.createElement("div",null,s.a.createElement(y.b,{to:"/profile/"+this.props.user._id,style:{textDecoration:"none"}},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-stats"},s.a.createElement("h3",{style:{color:this.props.color,fontSize:"26px",fontWeight:"500"}},this.props.user.firstname," ",this.props.user.lastname),s.a.createElement("h3",null,this.state.gamesPlayed),s.a.createElement("h3",null,this.state.totalScore),s.a.createElement("h3",null,this.state.avgTime?this.state.avgTime+" sec":"N/A"),s.a.createElement("h3",null,this.state.games?this.state.games.length:0)))))}}]),a}(s.a.Component),R=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(null),l=Object(m.a)(o,2),c=l[0],u=l[1];Object(n.useEffect)((function(){console.log(r)}),[r]);return s.a.createElement("div",null,s.a.createElement("h3",{className:"play-finish-link",onClick:function(t){t.preventDefault(),e.dbRating.put({_id:(new Date).toJSON(),game:e.location,rating:r})}},s.a.createElement(y.b,{to:"/playHome/"+e.client,style:{color:"#000"}},"\u2190 Finish")),Object(G.a)(Array(5)).map((function(t,a){var n=a+1;return s.a.createElement("label",{key:a},s.a.createElement("input",{type:"radio",name:"rating",value:n,onClick:function(){return i(n)}}),s.a.createElement(E.d,{className:"star",color:n<=(c||r)?e.color:"#e4e5e9",size:30,onMouseEnter:function(){return u(n)},onMouseLeave:function(){return u(null)}}))})))},F=(a(85),a(131),n.Component,a(178)),V=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).fetchUsers=function(){n.props.dbUser.find({selector:{parentTeam:n.state.parentTeam}}).then((function(e){var t=e.docs;n.setState({users:t}),console.log(n.state.users)})).catch((function(e){console.log(e)}))},n.fetchClient=function(){n.setState({parentClientId:""}),n.props.dbTeam.find({selector:{_id:n.state.parentTeam}}).then((function(e){var t=e.docs[0];n.setState({parentClientId:t.parentClient,parentTeamName:t.name}),n.props.dbClient.find({selector:{_id:t.parentClient}}).then((function(e){var t=e.docs[0];if(t.logo)var a=URL.createObjectURL(t.logo);n.setState({parentClientName:t.nameClient,header:t.header.hex,active:t.active.hex,secondary:t.secondary.hex,background:t.background.hex,headerImage:a}),console.log(n.state.parentClientName)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},n.fetchScore=function(){n.props.dbScore.find({selector:{gameId:"2020-07-16T04:35:12.509Z"}}).then((function(e){var t=e.docs;n.setState({usersScore:t.sort((function(e,t){return e.score<t.score||e.score===t.score&&e.user>t.user?1:-1}))}),console.log(n.state.usersScore)})).catch((function(e){console.log(e)}))},n.fetchData=function(){n.props.dbScore.allDocs({include_docs:!0}).then((function(e){var t=e.rows;n.setState({export:t.map((function(e){return e.doc}))})})).catch((function(e){console.log(e)}))},n.openModal=function(e){e.preventDefault(),n.setState({showModal:!0})},n.showModal=function(e){n.setState({showModal:!n.state.showModal})},n.onClose=function(e){n.props.onClose&&n.props.onClose(e)},n.onChangeUsername=function(e){n.setState({username:e})},n.onChangeEmail=function(e){n.setState({email:e})},n.openModal.bind(Object(g.a)(n)),n.canceler=null,n.fetchUsers.bind(Object(g.a)(n)),n.fetchClient.bind(Object(g.a)(n)),n.fetchScore.bind(Object(g.a)(n)),n.fetchData.bind(Object(g.a)(n)),n.getUser=n.getUser.bind(Object(g.a)(n)),n.state={parentTeam:n.props.location,parentTeamName:"",userData:null,users:null,parentClientId:"",parentClientName:"",username:"",email:"",showModal:!1,usersScore:"",export:"",header:"",active:"",secondary:"",background:"",headerImage:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.fetchUsers(),this.fetchClient(),this.fetchScore(),this.fetchData(),this.getUser(),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchUsers(),e.getUser()})),this.canceler=this.props.dbTeam.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbScore.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()}))}},{key:"componentDidUpdate",value:function(){document.body.style.background=this.state.background}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"userList",value:function(){var e=this;return this.state.users.map((function(t,a){return s.a.createElement(P,{key:a,user:t,teamId:e.state.parentTeam,dbGame:e.props.dbGame,dbRating:e.props.dbRating,dbScore:e.props.dbScore,dbQuestion:e.props.dbQuestion,dbTeam:e.props.dbTeam,dbUser:e.props.dbUser,color:e.state.active,counter:a})}))}},{key:"render",value:function(){return this.state.parentTeamName&&this.state.userData&&(!this.state.userData.gameEditor||this.state.userData.admin||this.state.userData.teamEditor)&&(this.state.userData.admin||this.state.userData.teamEditor)?s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:"/playHome/"+this.state.parentClientId,background:this.state.header,image:this.state.headerImage,profile:"/profile/"+this.state.userData._id}),s.a.createElement("div",{className:"info"},this.state.userData.admin?s.a.createElement(y.b,{className:"back",to:"/teams/"+this.state.parentClientId,style:{color:this.state.active}},s.a.createElement("h3",{style:{color:this.state.active}},"\u2190 Back to Teams")):null),s.a.createElement("div",{className:"info title"},this.state.userData.admin?s.a.createElement("h3",null,this.state.parentClientName):null,this.state.userData.analyticsViewer||this.state.userData.admin?s.a.createElement(F.CSVLink,{data:this.state.export,color:this.state.active,className:"export-button",style:{background:this.state.active}},"Export Analytics"):null),s.a.createElement("div",{className:"info add-container"},s.a.createElement("h3",null,this.state.parentTeamName),s.a.createElement("button",{style:{color:this.state.active},className:"add-input",onClick:this.openModal.bind(this)},s.a.createElement("span",null,s.a.createElement(v.a,{size:30,color:this.state.active}))," ","Add User"),s.a.createElement(L,{onClose:this.showModal,show:this.state.showModal,onChangeUsername:this.onChangeUsername,onChangeEmail:this.onChangeEmail,parentTeam:this.state.parentTeam,db:this.props.dbUser,color:this.state.active})),s.a.createElement("ul",{className:"nav"},s.a.createElement(y.b,{className:"links",to:"/editTeam/games/"+this.state.parentTeam},"Quizzes"),s.a.createElement("h3",{className:"links",style:{color:this.state.active}},"Users")),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",{style:{fontWeight:"300",fontSize:"24px"}},this.state.users.length," Active Users"),s.a.createElement("h3",null,"Games Played"," ",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"All Time Score"," ",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Average Time to Answer"," ",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Quizzes"," ",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15})))),this.userList())):null}}]),a}(n.Component);function X(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(V,{location:e.location.pathname.replace("/editTeam/users/",""),userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var Y=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getUserById(),n.getGames()},n.getUserById=function(){n.props.dbUser.find({selector:{_id:n.props.user._id}}).then((function(e){var t=e.docs;n.setState({doc:t})})).catch((function(e){console.log(e)})),n.fetchTeam()},n.fetchTeam=function(){n.props.dbTeam.find({selector:{_id:n.props.user.parentTeam}}).then((function(e){var t=e.docs[0];n.setState({team:t}),console.log(t)})).catch((function(e){console.log(e)}))},n.getGames=function(){n.props.dbGame.find({selector:{parentTeam:n.props.user.parentTeam}}).then((function(e){var t=e.docs;n.setState({games:t}),console.log(n.state.games)})).catch((function(e){console.log(e)}))},n.state={doc:"",questions:null,team:"",games:null},n.getUserById=n.getUserById.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"render",value:function(){return""===this.state.doc?null:s.a.createElement("div",null,s.a.createElement(y.b,{to:"/profile/"+this.props.user._id,style:{textDecoration:"none"}},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-stats"},s.a.createElement("div",{className:"card-stats-title"},s.a.createElement("h3",{style:{color:this.props.color,fontSize:"26px",fontWeight:"500"}},this.props.user.firstname," ",this.props.user.lastname),s.a.createElement("span",{className:"sub-stat"},"Active")),s.a.createElement("h3",null,this.props.user.email),s.a.createElement("h3",null,this.state.team.name),s.a.createElement("h3",null,this.state.games?this.state.games.length:0)))))}}]),a}(s.a.Component),Z=a(105),H=a.n(Z),W=a(41),K=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).fetchTeams=function(){n.props.dbTeam.find({selector:{parentClient:n.state.parentClient}}).then((function(e){var t=e.docs;n.setState({teams:t})})).catch((function(e){console.log(e)}))},n.onClose=function(e){n.props.onClose&&n.props.onClose(e)&&n.props.onChangeFirstname(n.state.firstname)&&n.props.onChangeLastname(n.state.lastname)&&n.props.onChangeEmail(n.state.email)&&n.props.onChangeTitle(n.state.title)&&n.props.onChangeAdmin(n.state.admin)&&n.props.onChangeEditor(n.state.editor)&&n.props.onChangeAnalytics(n.state.analytics)&&n.props.onChangeGame(n.state.game)&&n.props.onChangeTeam(n.state.team)&&n.props.onChangeTheme(n.state.theme)&&n.props.onChangePlayer(n.state.player)&&n.props.onChangeParentTeam(n.state.parentTeam)},n.onChangeFirstname=function(e){n.setState({firstname:e.target.value})},n.onChangeLastname=function(e){n.setState({lastname:e.target.value})},n.onChangeEmail=function(e){n.setState({email:e.target.value})},n.onChangeTitle=function(e){n.setState({title:e.target.value})},n.onChangeAdmin=function(e){n.setState({admin:!n.state.admin,editor:!1,analytics:!1,game:!1,team:!1,theme:!1,player:!1})},n.onChangeEditor=function(e){n.setState({admin:!1,editor:!n.state.editor,analytics:!0,game:!0,team:!0,theme:!0,player:!1})},n.onChangeAnalytics=function(e){n.setState({analytics:!n.state.analytics,admin:!1,player:!1}),!n.state.analytics&&n.state.game&&n.state.team&&n.state.theme?n.setState({editor:!0}):n.setState({editor:!1})},n.onChangeGame=function(e){n.setState({game:!n.state.game,admin:!1,player:!1}),n.state.analytics&&!n.state.game&&n.state.team&&n.state.theme?n.setState({editor:!0}):n.setState({editor:!1})},n.onChangeTeam=function(e){n.setState({team:!n.state.team,admin:!1,player:!1}),n.state.analytics&&n.state.game&&!n.state.team&&n.state.theme?n.setState({editor:!0}):n.setState({editor:!1})},n.onChangeTheme=function(e){n.setState({theme:!n.state.theme,admin:!1,player:!1}),n.state.analytics&&n.state.game&&n.state.team&&!n.state.theme?n.setState({editor:!0}):n.setState({editor:!1})},n.onChangePlayer=function(e){n.setState({player:!n.state.player,admin:!1,editor:!1,analytics:!1,game:!1,team:!1,theme:!1})},n.onChangeParentTeam=function(e){n.setState({parentTeam:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.setState({user_id:(new Date).toJSON()}),n.props.dbUser.put({_id:n.state.user_id,firstname:n.state.firstname,lastname:n.state.lastname,email:n.state.email,title:n.state.title,parentClient:n.props.parentClient,parentTeam:n.state.parentTeam,admin:n.state.admin,analyticsViewer:n.state.analytics,gameEditor:n.state.game,teamEditor:n.state.team,themeEditor:n.state.theme,playerOnly:n.state.player}),n.onClose(),H.a.sendForm("gmail","template_Iqt2oQbl",e.target,"user_aIsRl167EQauMz8l27PNn").then((function(e){console.log(e.text)}),(function(e){console.log(e.text)})),console.log("line end inside sendemail"),console.log(n.state.user_id)},n.fetchTeams=n.fetchTeams.bind(Object(g.a)(n)),n.teamDropDown=n.teamDropDown.bind(Object(g.a)(n)),n.state={parentTeam:"",teams:null,firstname:"",lastname:"",email:"",title:"",admin:!1,editor:!1,analytics:!1,game:!1,team:!1,theme:!1,player:!1,user_id:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.fetchTeams(),this.canceler=this.props.dbTeam.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchTeams()})),this.setState({user_id:(new Date).toJSON()})}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1}},{key:"teamDropDown",value:function(){return this.state.teams.map((function(e,t){return s.a.createElement("option",{key:t,value:e._id},e.name)}))}},{key:"render",value:function(){return this.props.show?s.a.createElement("div",{className:"create-user-modal-background"},s.a.createElement("div",{className:"create-user-modal"},s.a.createElement("button",{onClick:this.onClose},"X"),s.a.createElement("h3",null,"Create User"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-container-create-user"},s.a.createElement("div",{className:"create-user-west"},s.a.createElement("div",{className:"top-create-user"},s.a.createElement("div",null,s.a.createElement("div",{className:"user-create-input"},s.a.createElement("label",{style:{color:this.props.color}},"FIRST NAME"),s.a.createElement("input",{type:"text",placeholder:"first name",name:"to_name",onChange:this.onChangeFirstname,style:{borderColor:this.props.color}})),s.a.createElement("div",{className:"user-create-input"},s.a.createElement("label",{style:{color:this.props.color}},"LAST NAME"),s.a.createElement("input",{type:"text",placeholder:"last name",onChange:this.onChangeLastname,style:{borderColor:this.props.color}}))),s.a.createElement("div",null,s.a.createElement("div",{className:"user-create-input"},s.a.createElement("label",{style:{color:this.props.color}},"TITLE"),s.a.createElement("input",{type:"text",placeholder:"title",onChange:this.onChangeTitle,style:{borderColor:this.props.color}})),s.a.createElement("div",{className:"user-create-input"},s.a.createElement("label",{style:{color:this.props.color}},"EMAIL"),s.a.createElement("input",{type:"text",placeholder:"email",name:"to_email",onChange:this.onChangeEmail,style:{borderColor:this.props.color}}))),s.a.createElement("input",{type:"submit",value:"Create Account",style:{display:"none"}}),s.a.createElement("div",{style:{display:"none"}},s.a.createElement("input",{type:"text",name:"message_html",defaultValue:"localhost:3000/register/".concat(this.state.user_id),style:{borderColor:this.props.color}}))),s.a.createElement("div",{className:"user-create-input-dropdown"},s.a.createElement("label",{style:{color:this.props.color}},"TEAM"),s.a.createElement("div",null,s.a.createElement("select",{value:this.state.parentTeam,onChange:this.onChangeParentTeam},s.a.createElement("option",{value:"no team"},"No Team"),this.teamDropDown())))),s.a.createElement("div",{className:"form-container-user-permissions"},s.a.createElement("label",{className:"user-permissions",style:{color:this.props.color}},"PERMISSIONS"),s.a.createElement("div",{className:"user-radio-container"},s.a.createElement("div",{className:"user-radio",onClick:this.onChangeAdmin},this.state.admin?s.a.createElement("span",{className:"selected"},s.a.createElement(W.a,{size:20,color:this.props.color})):null),s.a.createElement("h4",null,"Admin")),s.a.createElement("div",{className:"user-radio-container"},s.a.createElement("div",{className:"user-radio",onClick:this.onChangeEditor},this.state.editor?s.a.createElement("span",{className:"selected"},s.a.createElement(W.a,{size:20,color:this.props.color})):null),s.a.createElement("h4",null,"Editor")),s.a.createElement("div",{className:"user-radio-container"},s.a.createElement("div",{className:"user-radio",onClick:this.onChangeAnalytics},this.state.analytics?s.a.createElement("span",{className:"selected"},s.a.createElement(W.a,{size:20,color:this.props.color})):null),s.a.createElement("h4",null,"Analytics Viewer")),s.a.createElement("div",{className:"user-radio-container"},s.a.createElement("div",{className:"user-radio",onClick:this.onChangeGame},this.state.game?s.a.createElement("span",{className:"selected"},s.a.createElement(W.a,{size:20,color:this.props.color})):null),s.a.createElement("h4",null,"Game Editor")),s.a.createElement("div",{className:"user-radio-container"},s.a.createElement("div",{className:"user-radio",onClick:this.onChangeTeam},this.state.team?s.a.createElement("span",{className:"selected"},s.a.createElement(W.a,{size:20,color:this.props.color})):null),s.a.createElement("h4",null,"Team Editor")),s.a.createElement("div",{className:"user-radio-container"},s.a.createElement("div",{className:"user-radio",onClick:this.onChangeTheme},this.state.theme?s.a.createElement("span",{className:"selected"},s.a.createElement(W.a,{size:20,color:this.props.color})):null),s.a.createElement("h4",null,"Theme Editor")),s.a.createElement("div",{className:"user-radio-container"},s.a.createElement("div",{className:"user-radio",onClick:this.onChangePlayer},this.state.player?s.a.createElement("span",{className:"selected"},s.a.createElement(W.a,{size:20,color:this.props.color})):null),s.a.createElement("h4",null,"Player Only")))),s.a.createElement("input",{type:"submit",style:{background:this.props.color},value:"Create User",className:"create-user-submit"})))):null}}]),a}(n.Component),J=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).fetchClient=function(){n.setState({clientName:""}),n.props.dbClient.find({selector:{_id:n.state.parentClient}}).then((function(e){var t=e.docs[0];if(t.logo)var a=URL.createObjectURL(t.logo);n.setState({clientName:t.nameClient,header:t.header.hex,active:t.active.hex,secondary:t.secondary.hex,background:t.background.hex,headerImage:a})})).catch((function(e){console.log(e)}))},n.fetchTeams=function(){n.props.dbTeam.find({selector:{parentClient:n.state.parentClient}}).then((function(e){var t=e.docs;n.setState({teams:t}),console.log(n.state.teams)})).catch((function(e){console.log(e)}))},n.fetchUsers=function(){n.props.dbUser.find({selector:{parentClient:n.state.parentClient}}).then((function(e){var t=e.docs;n.setState({users:t})})).catch((function(e){console.log(e)}))},n.openModal=function(e){e.preventDefault(),n.setState({showModal:!0})},n.showModal=function(e){n.setState({showModal:!n.state.showModal})},n.onClose=function(e){n.props.onClose&&n.props.onClose(e)},n.onChangeFirstname=function(e){n.setState({firstname:e})},n.onChangeLastname=function(e){n.setState({lastname:e})},n.onChangeEmail=function(e){n.setState({email:e})},n.onChangeAdmin=function(e){n.setState({admin:!n.state.admin,editor:!1,analytics:!1,game:!1,team:!1,theme:!1,player:!1})},n.onChangeEditor=function(e){n.setState({admin:!1,editor:!n.state.editor,analytics:!0,game:!0,team:!0,theme:!0,player:!1})},n.onChangeAnalytics=function(e){n.setState({analytics:!n.state.analytics,admin:!1,player:!1}),!n.state.analytics&&n.state.game&&n.state.team&&n.state.theme?n.setState({editor:!0}):n.setState({editor:!1})},n.onChangeGame=function(e){n.setState({game:!n.state.game,admin:!1,player:!1}),n.state.analytics&&!n.state.game&&n.state.team&&n.state.theme?n.setState({editor:!0}):n.setState({editor:!1})},n.onChangeTeam=function(e){n.setState({team:!n.state.team,admin:!1,player:!1}),n.state.analytics&&n.state.game&&!n.state.team&&n.state.theme?n.setState({editor:!0}):n.setState({editor:!1})},n.onChangeTheme=function(e){n.setState({theme:!n.state.theme,admin:!1,player:!1}),n.state.analytics&&n.state.game&&n.state.team&&!n.state.theme?n.setState({editor:!0}):n.setState({editor:!1})},n.onChangePlayer=function(e){n.setState({player:!n.state.player,admin:!1,editor:!1,analytics:!1,game:!1,team:!1,theme:!1})},n.onChangeParentTeam=function(e){n.setState({parentTeam:e.target.value})},n.fetchClient.bind(Object(g.a)(n)),n.fetchTeams.bind(Object(g.a)(n)),n.fetchUsers.bind(Object(g.a)(n)),n.openModal.bind(Object(g.a)(n)),n.getUser=n.getUser.bind(Object(g.a)(n)),n.state={parentClient:n.props.location,userData:null,parentTeam:"",clientName:"",teams:"",firstname:"",lastname:"",email:"",admin:!1,editor:!1,analytics:!1,game:!1,team:!1,theme:!1,player:!1,users:null,header:"",active:"",secondary:"",background:"",headerImage:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.fetchClient(),this.fetchTeams(),this.fetchUsers(),this.getUser(),this.canceler=this.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchUsers(),e.getUser()}))}},{key:"componentDidUpdate",value:function(){document.body.style.background=this.state.background}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"userList",value:function(){var e=this;return this.state.users.map((function(t,a){return s.a.createElement(Y,{key:a,user:t,color:e.state.active,dbGame:e.props.dbGame,dbTeam:e.props.dbTeam,dbUser:e.props.dbUser,dbQuestion:e.props.dbQuestion})}))}},{key:"render",value:function(){return null===this.state.users?null:this.state.userData&&(this.state.userData.admin||this.state.userData.teamEditor)?s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:"/playHome/"+this.state.parentClient,background:this.state.header,image:this.state.headerImage,profile:"/profile/"+this.state.userData._id}),s.a.createElement("div",{className:"info"},s.a.createElement(y.b,{className:"back",to:"/clients",style:{color:this.state.active}},s.a.createElement("h3",{style:{color:this.state.active}},"\u2190 Back"))),s.a.createElement("div",{className:"info title"},s.a.createElement("h3",null,"Clients")),s.a.createElement("div",{className:"info add-container"},s.a.createElement("h3",null,this.state.clientName),s.a.createElement("button",{style:{color:this.state.active},className:"add-input",onClick:this.openModal.bind(this)},s.a.createElement("span",null,s.a.createElement(v.a,{size:30,color:this.state.active}))," ","Create User"),s.a.createElement(K,{onClose:this.showModal,show:this.state.showModal,onChangeFirstname:this.onChangeFirstname,onChangeLastname:this.onChangeLastname,onChangeEmail:this.onChangeEmail,onChangeAdmin:this.onChangeAdmin,onChangeEditor:this.onChangeEditor,onChangeAnalytics:this.onChangeAnalytics,onChangeGame:this.onChangeGame,onChangeTeam:this.onChangeTeam,onChangeTheme:this.onChangeTheme,onChangePlayer:this.onChangePlayer,onChangeParentTeam:this.onChangeParentTeam,parentClient:this.state.parentClient,dbUser:this.props.dbUser,dbTeam:this.props.dbTeam,color:this.state.active})),s.a.createElement("ul",{className:"nav"},s.a.createElement(y.b,{className:"links",to:"/contact/"+this.state.parentClient},"Contact Information"),s.a.createElement(y.b,{className:"links",to:"/teams/"+this.state.parentClient},"Teams"),s.a.createElement("h3",{className:"links",style:{color:this.state.active}},"Users"),s.a.createElement(y.b,{className:"links",to:"/games/"+this.state.parentClient},"Quizzes"),s.a.createElement(y.b,{className:"links",to:"/themes/"+this.state.parentClient},"Themes")),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",{style:{fontWeight:"300",fontSize:"24px"}},this.state.users.length," Active Users"),s.a.createElement("h3",null,"Email",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Team",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",null,"Quizzes",s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15})))),this.userList())):null}}]),a}(n.Component);function $(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(J,{location:e.location.pathname.replace("/users/",""),userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var ee=a(45),te=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).fetchClient=function(){n.setState({clientName:""}),n.props.dbClient.find({selector:{_id:n.state.parentClient}}).then((function(e){var t=e.docs[0];if(t.logo)var a=URL.createObjectURL(t.logo);n.setState({clientName:t.nameClient,header:t.header.hex,active:t.active.hex,secondary:t.secondary.hex,background:t.background.hex,headerImage:a}),console.log(n.state.clientName)})).catch((function(e){console.log(e)}))},n.fetchGames=function(){n.setState({games:null}),n.props.dbGame.find({selector:{parentClient:n.state.parentClient}}).then((function(e){var t=e.docs;console.log(t),n.setState({games:t}),console.log("Games "+n.state.games)})).catch((function(e){console.log(e)}))},n.handleSubmit=function(e){e.preventDefault(),n.props.dbGame.put({_id:(new Date).toJSON(),name:"untitled",parentClient:n.state.parentClient})},n.handleSubmit.bind(Object(g.a)(n)),n.fetchGames.bind(Object(g.a)(n)),n.fetchClient.bind(Object(g.a)(n)),n.getUser=n.getUser.bind(Object(g.a)(n)),n.state={parentClient:n.props.location,userData:null,games:null,clientName:"",header:"",active:"",secondary:"",background:"",headerImage:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.fetchGames(),this.fetchClient(),this.getUser(),this.canceler=this.props.dbGame.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchGames()})),this.canceler=this.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getUser()}))}},{key:"componentDidUpdate",value:function(){document.body.style.background=this.state.background}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"gameList",value:function(){var e=this;return this.state.games.map((function(t,a){return s.a.createElement(B,{key:a,game:t,dbGame:e.props.dbGame,dbRating:e.props.dbRating,dbQuestion:e.props.dbQuestion,dbTeam:e.props.dbTeam,color:e.state.active,team:!0})}))}},{key:"render",value:function(){return null===this.state.games?null:this.state.userData&&(this.state.userData.admin||this.state.userData.gameEditor)?s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:"/playHome/"+this.state.parentClient,background:this.state.header,image:this.state.headerImage,profile:"/profile/"+this.state.userData._id}),s.a.createElement("div",{className:"info"},this.state.userData.admin?s.a.createElement(y.b,{className:"back",to:"/clients",style:{color:this.state.active}},s.a.createElement("h3",{style:{color:this.state.active}},"\u2190 Back")):null),s.a.createElement("div",{className:"info title"},this.state.userData.admin?s.a.createElement("h3",null,"Clients"):null),s.a.createElement("div",{className:"info add-container"},s.a.createElement("h3",null,this.state.clientName)),s.a.createElement("ul",{className:"nav"},this.state.userData.admin?s.a.createElement(y.b,{className:"links",to:"/contact/"+this.state.parentClient},"Contact Information"):null,this.state.userData.admin||this.state.userData.teamEditor||this.state.userData.gameEditor?s.a.createElement(y.b,{className:"links",to:"/teams/"+this.state.parentClient},"Teams"):null,this.state.userData.admin||this.state.userData.teamEditor?s.a.createElement(y.b,{className:"links",to:"/users/"+this.state.parentClient},"Users"):null,s.a.createElement("h3",{className:"links",style:{color:this.state.active}},"Quizzes"),this.state.userData.admin||this.state.userData.themeEditor?s.a.createElement(y.b,{className:"links",to:"/themes/"+this.state.parentClient},"Themes"):null),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",{style:{fontWeight:"300",fontSize:"1.5rem"}},this.state.games.length," Active Quizzes"),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(E.e,{color:this.state.active,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"Team"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(ee.a,{color:this.state.active,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"Questions"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(v.b,{color:this.state.active,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"Completion Time"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15})))),this.gameList())):null}}]),a}(n.Component);function ae(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(te,{location:e.location.pathname.replace("/games/",""),userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}a(235);var ne=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getQuestionById()},n.getQuestionById=function(){n.props.dbQuestion.find({selector:{_id:n.props._id}}).then((function(e){var t=e.docs;n.setState({doc:t}),console.log(n.state.doc)})).catch((function(e){console.log(e)}))},n.openQuestion=function(){n.getQuestionById(),n.setState({active:!0})},n.state={doc:"",active:!1},n.getQuestionById=n.getQuestionById.bind(Object(g.a)(n)),n.openQuestion=n.openQuestion.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"render",value:function(){return""===this.state.doc?null:!0===this.state.active?s.a.createElement(se,{onChangeQuestion:this.props.onChangeQuestion,onChangeAnswer1:this.props.onChangeAnswer1,onChangeAnswer2:this.props.onChangeAnswer2,onChangeAnswer3:this.props.onChangeAnswer3,onChangeAnswer4:this.props.onChangeAnswer4,onChangeCorrectAnswer:this.props.onChangeCorrectAnswer,submitRegister:this.props.submitRegister,cancel:this.props.cancel,parent:this.state.parent,questions:this.state.doc,question:this.state.doc[0].question,answer1:this.state.doc[0].answers[0],answer2:this.state.doc[0].answers[1],answer3:this.state.doc[0].answers[2],answer4:this.state.doc[0].answers[3],correctAnswer:this.state.correctAnswer,correct:this.state.doc[0].correct,name:this.state.name,handleSelected1:this.props.handleSelected1,handleSelected2:this.props.handleSelected2,handleSelected3:this.props.handleSelected3,handleSelected4:this.props.handleSelected4,questionId:this.state.doc[0]._id,removeQuestion:this.props.removeQuestion,_id:this.state.doc[0]._id,dbQuestion:this.props.dbQuestion,color:this.props.color}):s.a.createElement("div",{className:"edit-section"},s.a.createElement("div",{className:"west"},s.a.createElement("div",{className:"modal-input"},s.a.createElement("label",{htmlFor:"Question",style:{color:this.props.color},className:"question-label-main"},"Question"),s.a.createElement("button",{className:"edit-icon-button",onClick:this.openQuestion},s.a.createElement("span",null,s.a.createElement(E.c,{size:18,color:this.props.color}))),s.a.createElement("label",{htmlFor:"Question",style:{color:this.props.color},className:"question-label"},"Question"),s.a.createElement("p",{className:"question-editGame"}," ",this.props.question," "),s.a.createElement("h6",{style:{color:this.props.color},className:"question-label"},"Answer Choices")),s.a.createElement("div",{className:"answer-input-container"},s.a.createElement("p",{className:"question-editGame"},s.a.createElement("b",null,"A.")," ",this.props.answer1,"; \xa0 ",s.a.createElement("b",null,"B.")," ",this.props.answer2,";\xa0 ",s.a.createElement("b",null,"C.")," ",this.props.answer3,"; \xa0 ",s.a.createElement("b",null,"D.")," ",this.props.answer4," "))),s.a.createElement("div",{className:"east"},s.a.createElement("div",{className:"section"},s.a.createElement("h6",{style:{color:this.props.color},className:"question-label"},"Question Type"),s.a.createElement("div",{className:"question-editGame"},"Multiple Choice")),s.a.createElement("div",{className:"section-correct"},s.a.createElement("h6",{style:{color:this.props.color},className:"question-label"},"Correct Answer"),s.a.createElement("div",{className:"question-editGame"},this.props.correct))))}}]),a}(s.a.Component),se=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).cancel=function(){n.setState({active:!1})},n.componentDidMount=function(){n.getQuestionById()},n.getQuestionById=function(){n.props.dbQuestion.find({selector:{_id:n.props._id}}).then((function(e){var t=e.docs;n.setState({doc:t}),console.log(n.state.doc)})).catch((function(e){console.log(e)}))},n.state={active:!0,doc:""},n.getQuestionById=n.getQuestionById.bind(Object(g.a)(n)),n.cancel=n.cancel.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return!1===this.state.active?s.a.createElement(ne,{onChangeQuestion:this.props.onChangeQuestion,onChangeAnswer1:this.props.onChangeAnswer1,onChangeAnswer2:this.props.onChangeAnswer2,onChangeAnswer3:this.props.onChangeAnswer3,onChangeAnswer4:this.props.onChangeAnswer4,onChangeCorrectAnswer:this.props.onChangeCorrectAnswer,submitRegister:this.props.submitRegister,cancel:this.props.cancel,parent:this.state.parent,questions:this.state.doc,question:this.state.doc[0].question,answer1:this.state.doc[0].answers[0],answer2:this.state.doc[0].answers[1],answer3:this.state.doc[0].answers[2],answer4:this.state.doc[0].answers[3],correctAnswer:this.state.correctAnswer,correct:this.state.doc[0].correct,name:this.state.name,handleSelected1:this.props.handleSelected1,handleSelected2:this.props.handleSelected2,handleSelected3:this.props.handleSelected3,handleSelected4:this.props.handleSelected4,questionId:this.state.doc[0]._id,removeQuestion:this.props.removeQuestion,_id:this.state.doc[0]._id,dbQuestion:this.props.dbQuestion,color:this.props.color}):s.a.createElement("div",{className:"edit-section"},s.a.createElement("div",{className:"west"},s.a.createElement("div",{className:"modal-input"},s.a.createElement("label",{htmlFor:"Question",style:{color:this.props.color},className:"question-label-main"},"Question"),s.a.createElement("label",{htmlFor:"Question",style:{color:this.props.color,marginTop:10},className:"question-label"},"Question"),s.a.createElement("input",{type:"text",name:"question",className:"edit-question",placeholder:"Question",onChange:this.props.onChangeQuestion,defaultValue:this.props.question}),s.a.createElement("h6",{style:{color:this.props.color}},"Answer Choices")),s.a.createElement("div",{className:"answer-input-container"},s.a.createElement("div",{className:"radio"},s.a.createElement("input",{type:"radio",value:this.props.answer1,name:this.props._id,selected:this.props.correctAnswer===this.props.answer1,onChange:this.props.handleSelected1})),s.a.createElement("div",{className:"modal-answer-input"},s.a.createElement("input",{type:"text",name:"answer",className:"edit-answer",placeholder:"Answer 1",onChange:this.props.onChangeAnswer1,defaultValue:this.props.answer1}))),s.a.createElement("div",{className:"answer-input-container"},s.a.createElement("div",{className:"radio"},s.a.createElement("input",{type:"radio",value:this.props.answer2,name:this.props._id,selected:this.props.correctAnswer===this.props.answer2,onChange:this.props.handleSelected2})),s.a.createElement("div",{className:"modal-answer-input"},s.a.createElement("input",{type:"text",name:"answer",className:"edit-answer",placeholder:"Answer 2",onChange:this.props.onChangeAnswer2,defaultValue:this.props.answer2}))),s.a.createElement("div",{className:"answer-input-container"},s.a.createElement("div",{className:"radio"},s.a.createElement("input",{type:"radio",value:this.props.answer3,name:this.props._id,selected:this.props.correctAnswer===this.props.answer3,onChange:this.props.handleSelected3})),s.a.createElement("div",{className:"modal-answer-input"},s.a.createElement("input",{type:"text",name:"answer",className:"edit-answer",placeholder:"Answer 3",onChange:this.props.onChangeAnswer3,defaultValue:this.props.answer3}))),s.a.createElement("div",{className:"answer-input-container"},s.a.createElement("div",{className:"radio"},s.a.createElement("input",{type:"radio",value:this.props.answer4,name:this.props._id,selected:this.props.correctAnswer===this.props.answer4,onChange:this.props.handleSelected4})),s.a.createElement("div",{className:"modal-answer-input"},s.a.createElement("input",{type:"text",name:"answer",className:"edit-answer",placeholder:"Answer 4",onChange:this.props.onChangeAnswer4,defaultValue:this.props.answer4}))),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{type:"button",className:"modal-btn save",onClick:this.props.submitRegister,style:{background:this.props.color}},"Save"),s.a.createElement("button",{type:"button",className:"modal-btn cancel",onClick:this.cancel,style:{color:this.props.color,borderColor:this.props.color}},"Cancel"),s.a.createElement("button",{type:"button",className:"modal-btn delete",onClick:function(){return e.props.removeQuestion(e.props.questionId)}},"Remove Question"))),s.a.createElement("div",{className:"east"},s.a.createElement("div",{className:"section"},s.a.createElement("h6",{style:{color:this.props.color},className:"question-label"},"Question Type"),s.a.createElement("div",{className:"question-editGame"},"Multiple Choice")),s.a.createElement("div",{className:"section-correct"},s.a.createElement("h6",{style:{color:this.props.color},className:"question-label"},"Correct Answer"),s.a.createElement("div",{className:"question-editGame"},this.props.correct))))}}]),a}(s.a.Component),re=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).submitQuestion=function(){n.props.dbQuestion.find({})},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"edit-section"},s.a.createElement("div",{className:"west"},s.a.createElement("div",{className:"modal-input"},s.a.createElement("label",{htmlFor:"Question",style:{color:this.props.color},className:"question-label-main"},"Question"),s.a.createElement("label",{htmlFor:"Question",style:{color:this.props.color,marginTop:10},className:"question-label"},"Question"),s.a.createElement("input",{type:"text",name:"question",className:"edit-question",placeholder:"Question",onChange:this.props.onChangeQuestion,defaultValue:this.props.question}),s.a.createElement("h6",{style:{color:this.props.color},className:"question-label"},"Answer Choices")),s.a.createElement("div",{className:"answer-input-container"},s.a.createElement("div",{className:"radio"},s.a.createElement("input",{type:"radio",value:this.props.answer1,name:this.props.counter,selected:this.props.correctAnswer===this.props.answer1,onChange:this.props.handleSelected1})),s.a.createElement("div",{className:"modal-answer-input"},s.a.createElement("input",{type:"text",name:"answer",className:"edit-answer",placeholder:"Answer 1",style:{borderColor:this.props.color},onChange:this.props.onChangeAnswer1,defaultValue:this.props.answer1}))),s.a.createElement("div",{className:"answer-input-container"},s.a.createElement("div",{className:"radio"},s.a.createElement("input",{type:"radio",value:this.props.answer2,name:this.props.counter,selected:this.props.correctAnswer===this.props.answer2,onChange:this.props.handleSelected2})),s.a.createElement("div",{className:"modal-answer-input"},s.a.createElement("input",{type:"text",name:"answer",className:"edit-answer",style:{borderColor:this.props.color},placeholder:"Answer 2",onChange:this.props.onChangeAnswer2,defaultValue:this.props.answer2}))),s.a.createElement("div",{className:"answer-input-container"},s.a.createElement("div",{className:"radio"},s.a.createElement("input",{type:"radio",value:this.props.answer3,name:this.props.counter,selected:this.props.correctAnswer===this.props.answer3,onChange:this.props.handleSelected3})),s.a.createElement("div",{className:"modal-answer-input"},s.a.createElement("input",{type:"text",name:"answer",className:"edit-answer",style:{borderColor:this.props.color},placeholder:"Answer 3",onChange:this.props.onChangeAnswer3,defaultValue:this.props.answer3}))),s.a.createElement("div",{className:"answer-input-container"},s.a.createElement("div",{className:"radio"},s.a.createElement("input",{type:"radio",value:this.props.answer4,name:this.props.counter,selected:this.props.correctAnswer===this.props.answer4,onChange:this.props.handleSelected4})),s.a.createElement("div",{className:"modal-answer-input"},s.a.createElement("input",{type:"text",name:"answer",className:"edit-answer",style:{borderColor:this.props.color},placeholder:"Answer 4",onChange:this.props.onChangeAnswer4,defaultValue:this.props.answer4}))),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{type:"button",className:"modal-btn save",onClick:this.props.submitRegister,style:{background:this.props.color}},"Save"),s.a.createElement("button",{type:"button",className:"modal-btn cancel",onClick:this.props.cancel,style:{color:"#666",borderColor:"#666"}},"Cancel"),s.a.createElement("button",{type:"button",className:"modal-btn delete",onClick:function(){return e.props.removeQuestion(e.props.questionId)}},"Remove Question"))),s.a.createElement("div",{className:"east"},s.a.createElement("div",{className:"section"},s.a.createElement("h6",{style:{color:this.props.color},className:"question-label"},"Question Type"),s.a.createElement("div",{className:"question-editGame"},"Multiple Choice")),s.a.createElement("div",{className:"section-correct"},s.a.createElement("h6",{style:{color:this.props.color},className:"question-label"},"Correct Answer"),s.a.createElement("div",{className:"question-editGame"},this.props.correctAnswer))))}}]),a}(s.a.Component),ie=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.mounted=!0,a.fetchGame(),a.fetchTeam(),a.getQuestions(),a.getUser(),a.canceler=a.props.dbQuestion.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){a.getQuestions()})),a.canceler=a.props.dbGame.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){a.fetchGame(),a.fetchTeam()})),a.canceler=a.props.dbTeam.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){a.fetchTeam(),a.fetchGame()})),a.canceler=a.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){a.fetchTeam(),a.fetchGame()})),a.canceler=a.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){a.getUser()}))},a.fetchTeam=function(){a.setState({parentTeam:null}),a.props.dbGame.find({selector:{_id:a.state.parentGame}}).then((function(e){var t=e.docs[0].parentTeam;console.log(t),a.props.dbTeam.find({selector:{_id:t}}).then((function(e){var n=e.docs;a.setState({parentTeam:n[0].name}),console.log(a.state.parentTeam),a.props.dbClient.find({selector:{_id:t}}).then((function(e){var t=e.docs[0],n=URL.createObjectURL(t.logo);a.setState({parentClient:t.nameClient,header:t.header.hex,activeColor:t.active.hex,secondary:t.secondary.hex,background:t.background.hex,headerImage:n}),console.log(t)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},a.fetchGame=function(){a.setState({parentGameName:null}),a.props.dbGame.find({selector:{_id:a.state.parentGame}}).then((function(e){var t=e.docs;a.setState({parentGameName:t[0].name})})).catch((function(e){console.log(e)}))},a.getQuestions=function(){a.props.dbQuestion.find({selector:{parentGame:a.state.parentGame}}).then((function(e){var t=e.docs;a.setState({questions:t})})).catch((function(e){console.log(e)}))},a.addQuestion=function(){a.setState({addQuestion:!0})},a.addQuestionButton=function(){a.setState({addQuestion:!0})},a.cancel=function(){a.setState({active:!1})},a.onChangeDate=function(e){a.setState({date:e}),console.log(e)},a.goBack=a.goBack.bind(Object(g.a)(a)),a.getUser=a.getUser.bind(Object(g.a)(a)),a.fetchGame.bind(Object(g.a)(a)),a.fetchTeam.bind(Object(g.a)(a)),a.onChangeQuestion=a.onChangeQuestion.bind(Object(g.a)(a)),a.onChangeAnswer1=a.onChangeAnswer1.bind(Object(g.a)(a)),a.onChangeAnswer2=a.onChangeAnswer2.bind(Object(g.a)(a)),a.onChangeAnswer3=a.onChangeAnswer3.bind(Object(g.a)(a)),a.onChangeAnswer4=a.onChangeAnswer4.bind(Object(g.a)(a)),a.submitRegister=a.submitRegister.bind(Object(g.a)(a)),a.onChangeCorrectAnswer=a.onChangeCorrectAnswer.bind(Object(g.a)(a)),a.handleSelected1=a.handleSelected1.bind(Object(g.a)(a)),a.handleSelected2=a.handleSelected2.bind(Object(g.a)(a)),a.handleSelected3=a.handleSelected3.bind(Object(g.a)(a)),a.handleSelected4=a.handleSelected4.bind(Object(g.a)(a)),a.removeQuestion=a.removeQuestion.bind(Object(g.a)(a)),a.addQuestion=a.addQuestion.bind(Object(g.a)(a)),a.addQuestionButton=a.addQuestionButton.bind(Object(g.a)(a)),a.cancel=a.cancel.bind(Object(g.a)(a)),a.handleTimeChange=a.handleTimeChange.bind(Object(g.a)(a)),a.onChangeDate=a.onChangeDate.bind(Object(g.a)(a)),a.canceler=null,a.state={parentGame:a.props.location,parentTeam:"",parentClient:"",userData:null,questions:[],question:"",answer1:"",answer2:"",answer3:"",answer4:"",correctAnswer:"",name:"",questionId:"",parentGameName:"",active:!1,addQuestion:!1,header:"",activeColor:"",secondary:"",background:"",headerImage:"",selectedTime:10,date:null},a}return Object(p.a)(n,[{key:"componentDidUpdate",value:function(){document.body.style.background=this.state.background}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"onChangeQuestion",value:function(e){this.setState({question:e.target.value})}},{key:"onChangeAnswer1",value:function(e){this.setState({answer1:e.target.value})}},{key:"onChangeAnswer2",value:function(e){this.setState({answer2:e.target.value})}},{key:"onChangeAnswer3",value:function(e){this.setState({answer3:e.target.value})}},{key:"onChangeAnswer4",value:function(e){this.setState({answer4:e.target.value})}},{key:"removeQuestion",value:function(e){var t=this;console.log(e),this.props.dbQuestion.find({selector:{_id:e}}).then((function(e){console.log(e),t.props.dbQuestion.remove(e.docs[0]._id,e.docs[0]._rev),window.location.reload(!0)}))}},{key:"questionList",value:function(){var e=this;return this.state.questions.map((function(t,a){return s.a.createElement(ne,{key:a,onChangeQuestion:e.onChangeQuestion,onChangeAnswer1:e.onChangeAnswer1,onChangeAnswer2:e.onChangeAnswer2,onChangeAnswer3:e.onChangeAnswer3,onChangeAnswer4:e.onChangeAnswer4,onChangeCorrectAnswer:e.onChangeCorrectAnswer,submitRegister:e.submitRegister,cancel:e.cancel,parent:e.state.parent,questions:e.state.questions,question:e.state.questions[a].question,answer1:e.state.questions[a].answers[0],answer2:e.state.questions[a].answers[1],answer3:e.state.questions[a].answers[2],answer4:e.state.questions[a].answers[3],correctAnswer:e.state.correctAnswer,correct:e.state.questions[a].correct,name:e.state.name,counter:a,handleSelected1:e.handleSelected1,handleSelected2:e.handleSelected2,handleSelected3:e.handleSelected3,handleSelected4:e.handleSelected4,questionId:e.state.questions[a]._id,removeQuestion:e.removeQuestion,_id:e.state.questions[a]._id,dbQuestion:e.props.dbQuestion,active:e.state.active,color:e.state.activeColor})}))}},{key:"onChangeCorrectAnswer",value:function(e){this.setState({correctAnswer:e.target.value})}},{key:"submitRegister",value:function(e){e.preventDefault(),console.log(this.state.parentGame),console.log(this.state.question),console.log(this.state.answer1),this.props.dbQuestion.put({_id:(new Date).toJSON(),parentGame:this.state.parentGame,question:this.state.question,answers:[this.state.answer1,this.state.answer2,this.state.answer3,this.state.answer4],correct:this.state.correctAnswer,time:this.state.selectedTime}),this.setState({name:"",question:"",answer1:"",answer2:"",answer3:"",answer4:"",correctAnswer:"Answer 1"})}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"handleSelected1",value:function(){this.setState({correctAnswer:this.state.answer1})}},{key:"handleSelected2",value:function(){this.setState({correctAnswer:this.state.answer2})}},{key:"handleSelected3",value:function(){this.setState({correctAnswer:this.state.answer3})}},{key:"handleSelected4",value:function(){this.setState({correctAnswer:this.state.answer4})}},{key:"handleTimeChange",value:function(e){this.setState({selectedTime:e.target.value}),console.log(this.state.selectedTime)}},{key:"render",value:function(){return this.state.userData?this.state.userData.admin||this.state.userData.gameEditor?!0===this.state.addQuestion?s.a.createElement("div",{className:"modal"},s.a.createElement(S,{admin:this.props.location,game:this.props.location,background:this.state.header,image:this.state.headerImage,profile:"/profile/"+this.state.userData._id}),s.a.createElement("button",{className:"info back",onClick:this.goBack,style:{color:this.state.activeColor,background:"inherit",marginLeft:"40px"}},"\u2190 Back"),s.a.createElement("div",{className:"info title-quiz"},s.a.createElement("h3",{className:"quizzes-editGame",style:{marginLeft:"15px"}},this.state.parentTeam?this.state.parentTeam:this.state.parentClient," ","Quizzes")),s.a.createElement("div",{className:"info title-quiz"},s.a.createElement("h3",{className:"game-name-editGame",style:{marginLeft:"15px"}},this.state.parentGameName)),s.a.createElement("div",{className:"section-time"},s.a.createElement("h6",{className:"time-limit-editGame",style:{color:this.props.color,marginLeft:"-30px"}},"TIME LIMIT PER QUESTION"),s.a.createElement("div",{className:"time-select",style:{color:this.props.color,marginLeft:"-30px",borderRadius:"5px"}},s.a.createElement("form",{onSubmit:this.handleTimeSubmit},s.a.createElement("select",{style:{borderRadius:"5px"},onChange:this.handleTimeChange},s.a.createElement("option",{value:"10"},"10 sec"),s.a.createElement("option",{value:"15"},"15 sec"),s.a.createElement("option",{value:"20"},"20 sec"),s.a.createElement("option",{value:"30"},"30 sec")),s.a.createElement("input",{type:"submit",value:"Submit",className:"submitTime",style:{display:"none"}})))),this.questionList(),s.a.createElement(re,{onChangeQuestion:this.onChangeQuestion,onChangeAnswer1:this.onChangeAnswer1,onChangeAnswer2:this.onChangeAnswer2,onChangeAnswer3:this.onChangeAnswer3,onChangeAnswer4:this.onChangeAnswer4,onChangeCorrectAnswer:this.onChangeCorrectAnswer,submitRegister:this.submitRegister,cancel:this.cancel,parent:this.state.parent,questions:this.state.questions,correctAnswer:this.state.correctAnswer,name:this.state.name,handleSelected1:this.handleSelected1,handleSelected2:this.handleSelected2,handleSelected3:this.handleSelected3,handleSelected4:this.handleSelected4,removeQuestion:this.removeQuestion,dbQuestion:this.props.dbQuestion,color:this.state.activeColor}),s.a.createElement("button",{onClick:this.addQuestionButton,style:{color:this.state.activeColor},className:"addQButton"},s.a.createElement("img",{src:a(134),className:"addQImg"})," ")):s.a.createElement("div",{className:"modal"},s.a.createElement(S,{admin:this.props.location,game:this.props.location,background:this.state.header,image:this.state.headerImage}),s.a.createElement("button",{className:"info back",onClick:this.goBack,style:{color:this.state.activeColor,background:"inherit",marginLeft:"40px"}},"\u2190 Back"),s.a.createElement("div",{className:"info title-quiz"},s.a.createElement("h3",{className:"quizzes-editGame",style:{marginLeft:"15px"}},this.state.parentTeam?this.state.parentTeam:this.state.parentClient," ","Quizzes")),s.a.createElement("div",{className:"info title-quiz"},s.a.createElement("h3",{className:"game-name-editGame",style:{marginLeft:"15px"}},this.state.parentGameName)),s.a.createElement("div",{className:"section-time"},s.a.createElement("h6",{className:"time-limit-editGame",style:{color:this.props.color,marginLeft:"-30px"}},"TIME LIMIT PER QUESTION"),s.a.createElement("div",{className:"time-select",style:{color:this.props.color,marginLeft:"-30px",borderRadius:"5px"}},s.a.createElement("form",{onSubmit:this.handleTimeSubmit},s.a.createElement("select",{style:{borderRadius:"5px"},onChange:this.handleTimeChange},s.a.createElement("option",{value:"10"},"10 sec"),s.a.createElement("option",{value:"15"},"15 sec"),s.a.createElement("option",{value:"20"},"20 sec"),s.a.createElement("option",{value:"30"},"30 sec")),s.a.createElement("input",{type:"submit",value:"Submit",className:"submitTime",style:{display:"none"}})))),this.questionList(),s.a.createElement("button",{onClick:this.addQuestionButton,style:{color:this.state.activeColor},className:"addQButton"},s.a.createElement("img",{src:a(134),className:"addQImg"})," ")):void 0:null}}]),n}(s.a.Component);function oe(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(ie,{location:e.location.pathname.replace("/editGame/",""),history:e.history,userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var le=a(62);function ce(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(""),l=Object(m.a)(o,2),c=l[0],u=l[1],d=Object(n.useState)(""),h=Object(m.a)(d,2),p=h[0],g=h[1],b=Object(n.useState)(""),f=Object(m.a)(b,2),v=f[0],C=f[1],y=Object(n.useState)(!1),N=Object(m.a)(y,2),S=N[0],w=N[1];Object(n.useEffect)((function(){T()}),[]);var T=function(){e.dbClient.find({selector:{_id:e.client}}).then((function(e){var t=e.docs[0];i(t.header.hex),u(t.active.hex),g(t.secondary.hex),C(t.background.hex),console.log(t)})).catch((function(e){console.log(e)}))};return s.a.createElement(s.a.Fragment,null,S?s.a.createElement("div",{className:"colors"},s.a.createElement("button",{onClick:function(){return w((function(e){return!e}))}},"close"),s.a.createElement("button",{onClick:function(){e.dbClient.get(e.client).then((function(t){return t.header=r,t.active=c,t.secondary=p,t.background=v,e.dbClient.put(t)})).then((function(){return e.dbClient.get(e.client)})).then((function(e){console.log(e)})),w((function(e){return!e}))}},"save"),s.a.createElement("div",null,s.a.createElement("h5",null,"Header color"),s.a.createElement(le.ChromePicker,{disableAlpha:!0,color:r,onChange:function(e){return i(e)}})),s.a.createElement("div",null,s.a.createElement("h5",null,"Active color"),s.a.createElement(le.ChromePicker,{disableAlpha:!0,color:c,onChange:function(e){return u(e)}})),s.a.createElement("div",null,s.a.createElement("h5",null,"Secondary color"),s.a.createElement(le.ChromePicker,{disableAlpha:!0,color:p,onChange:function(e){return g(e)}})),s.a.createElement("div",null,s.a.createElement("h5",null,"Background color"),s.a.createElement(le.ChromePicker,{disableAlpha:!0,color:v,onChange:function(e){return C(e)}}))):s.a.createElement("div",{className:"colorsDisplay"},s.a.createElement("div",{className:"theme-edit-button"},s.a.createElement("button",{onClick:function(){return w((function(e){return!e}))}},s.a.createElement("span",null,s.a.createElement(E.c,{color:e.color,size:20})))),s.a.createElement("h3",null,"Color Pallete"),s.a.createElement("div",{className:"display-section"},s.a.createElement("div",{className:"circleDisplay",style:{background:r}}),s.a.createElement("h5",null,"Header")),s.a.createElement("div",{className:"display-section"},s.a.createElement("div",{className:"circleDisplay",style:{background:c}}),s.a.createElement("h5",null,"Active State")),s.a.createElement("div",{className:"display-section"},s.a.createElement("div",{className:"circleDisplay",style:{background:p}}),s.a.createElement("h5",null,"Secondary Color")),s.a.createElement("div",{className:"display-section"},s.a.createElement("div",{className:"circleDisplay",style:{background:v}}),s.a.createElement("h5",null,"Background"))))}var me=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={selectedFile:null,edit:!1},e.fetchClient=function(){e.props.dbClient.find({selector:{_id:e.props.client}}).then((function(e){var t=e.docs[0];console.log(t)})).catch((function(e){console.log(e)}))},e.fileSelectedhandler=function(t){e.setState({selectedFile:t.target.files[0]})},e.fileUploadHandler=function(){var t=e.props.dbClient,a=e.props.client,n=e.state.selectedFile;t.get(a).then((function(e){return e.logo=n,t.put(e)})).then((function(){return t.get(a)})).then((function(e){console.log(e)}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.fetchClient()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"logoDisplay"},s.a.createElement("div",{className:"theme-edit-button"},!1===this.state.edit?s.a.createElement("button",{onClick:function(){e.fileInput.click(),e.setState({edit:!0})}},s.a.createElement("span",null,s.a.createElement(E.c,{color:this.props.color,size:20}))):s.a.createElement("button",{onClick:this.fileUploadHandler,style:{margin:"0 1rem 0 0",color:this.props.color}},"Save")),s.a.createElement("h3",null,"Logo"),s.a.createElement("input",{type:"file",style:{display:"none"},onChange:this.fileSelectedhandler,ref:function(t){return e.fileInput=t}}),s.a.createElement("img",{src:this.props.headerImage,alt:"logo",height:70}))}}]),a}(n.Component),ue=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).fetchClient=function(){n.setState({client:""}),n.props.dbClient.find({selector:{_id:n.state.parentClient}}).then((function(e){var t=e.docs[0];try{var a=URL.createObjectURL(t.logo)}catch(s){console.log(s)}n.setState({client:t.nameClient,header:t.header.hex,active:t.active.hex,secondary:t.secondary.hex,background:t.background.hex,headerImage:a}),console.log(n.state.client)})).catch((function(e){console.log(e)}))},n.fetchClient.bind(Object(g.a)(n)),n.getUser=n.getUser.bind(Object(g.a)(n)),n.state={parentClient:n.props.location,userData:null,client:"",header:"",active:"",secondary:"",background:"",headerImage:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.fetchClient(),this.getUser(),this.canceler=this.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getUser()}))}},{key:"componentDidUpdate",value:function(){document.body.style.background=this.state.background}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.client&&this.state.userData&&(this.state.userData.admin||this.state.userData.themeEditor)?s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:"/playHome/"+this.state.parentClient,background:this.state.header,image:this.state.headerImage,profile:"/profile/"+this.state.userData._id}),s.a.createElement("div",{className:"info"},this.state.userData.admin?s.a.createElement(y.b,{className:"back",to:"/clients",style:{color:this.state.active}},s.a.createElement("h3",{style:{color:this.state.active}},"\u2190 Back")):null),s.a.createElement("div",{className:"info title"},this.state.userData.admin?s.a.createElement("h3",null,"Clients"):null),s.a.createElement("div",{className:"info add-container"},s.a.createElement("h3",null,this.state.client)),s.a.createElement("ul",{className:"nav"},this.state.userData.admin?s.a.createElement(y.b,{className:"links",to:"/contact/"+this.state.parentClient},"Contact Information"):null,this.state.userData.admin||this.state.userData.teamEditor||this.state.userData.gameEditor?s.a.createElement(y.b,{className:"links",to:"/teams/"+this.state.parentClient},"Teams"):null,this.state.userData.admin||this.state.userData.teamEditor?s.a.createElement(y.b,{className:"links",to:"/users/"+this.state.parentClient},"Users"):null,this.state.userData.admin||this.state.userData.gameEditor?s.a.createElement(y.b,{className:"links",to:"/games/"+this.state.parentClient},"Quizzes"):null,s.a.createElement("h3",{className:"links",style:{color:this.state.active}},"Themes")),s.a.createElement("div",{className:"theme-edit"},s.a.createElement(me,{client:this.state.parentClient,dbClient:this.props.dbClient,headerImage:this.state.headerImage,color:this.state.active}),s.a.createElement(ce,{client:this.state.parentClient,dbClient:this.props.dbClient,color:this.state.active}))):null}}]),a}(n.Component);function de(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(ue,{location:e.location.pathname.replace("/themes/",""),userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var he=function(e){var t=e.completed,a={height:"100%",width:"27rem",backgroundColor:"rgba("+e.progressColor.r+","+e.progressColor.g+","+e.progressColor.b+",0.35)",borderRadius:"10px"},n={height:"100%",width:"".concat(t,"%"),backgroundColor:e.color,opacity:"100%",transition:"width 1s ease-in-out",borderRadius:"inherit",textAlign:"right"};return s.a.createElement("div",{style:a},s.a.createElement("div",{style:n}))},pe=a(46),ge=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(h.a)(this,a);var s=(n=t.call(this,e)).props;s.correct,s.total,s.score,s.time,s.scores,s.users,s.dbRating,s.history;return n.goBack=n.goBack.bind(Object(g.a)(n)),n.getPercent=n.getPercent.bind(Object(g.a)(n)),n.getLeaderboard=n.getLeaderboard.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"goBack",value:function(){this.props.history.goBack()}},{key:"getPercent",value:function(){return Math.round(this.props.correct/this.props.total*100)}},{key:"getLeaderboard",value:function(){var e=this;if(this.props.users)return this.props.users.slice(0,5).map((function(t,a){return s.a.createElement("div",{className:"card-leaderboard-users",key:a},s.a.createElement("h3",{style:{textAlign:"left",margin:"0 0 0 1.25rem"}},e.props.users[a].userName),s.a.createElement("h3",null,Math.round(e.props.users[a].time)<60?Math.round(e.props.users[a].time)+" sec":Math.round(e.props.users[a].time/60)+" min"),s.a.createElement("h3",null,e.props.users[a].correct," / ",e.props.users[a].questions),s.a.createElement("h3",null,e.props.users[a].score))}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"result-rating"},s.a.createElement("h4",{className:"result-label"},"Your results"),s.a.createElement("div",{className:"rating-container"},s.a.createElement("h5",null,"Rate this quiz!"),s.a.createElement(R,{dbRating:this.props.dbRating,history:this.props.history,color:this.props.star,location:this.props.location,client:this.props.client}))),s.a.createElement("div",{className:"stats"},s.a.createElement("div",{className:"stat"},s.a.createElement("h3",null,"Total Time"),s.a.createElement("h4",{style:{color:this.props.color}},Math.round(this.props.time/60),s.a.createElement("span",{style:{color:this.props.color}},"min"))),s.a.createElement("div",{className:"stat"},s.a.createElement("h3",null,"% Answered Correctly"),s.a.createElement("h4",{style:{color:this.props.color}},this.getPercent(),"%")),s.a.createElement("div",{className:"stat"},s.a.createElement("h3",null,"Total Score"),s.a.createElement("h4",{style:{color:this.props.color}},this.props.score))),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",{style:{fontWeight:"300",fontSize:"1.5rem"}},"Leaderboard"),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(v.b,{color:this.props.color,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"ACTUAL COMPLETION TIME"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(ee.a,{color:this.props.color,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"QUESTIONS CORRECT"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(pe.a,{color:this.props.color,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"TOTAL SCORE"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15})))),s.a.createElement("div",{className:"card-leaderboard",style:{margin:"1rem 0 0 0"}},this.getLeaderboard())))}}]),a}(n.Component),be=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getQuestions(),n.fetchGame(),n.fetchUsers(),n.getUser(),n.getColors(),n.canceler=n.props.dbQuestion.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){n.getQuestions()})),n.canceler=n.props.dbGame.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){n.fetchGame()})),n.canceler=n.props.dbScore.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){n.fetchUsers()})),n.canceler=n.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){n.getUser()})),n.canceler=n.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){n.fetchGame(),n.getColors()}))},n.fetchGame=function(){n.setState({parentGame:null}),n.props.dbGame.find({selector:{_id:n.state.parentGame}}).then((function(e){var t=e.docs;n.setState({parentGame:t[0].name,parentClient:t[0].parentClient,timePerQuestion:t[0].timePerQuestion})})).catch((function(e){console.log(e)}))},n.getColors=function(){n.props.dbClient.find({selector:{_id:n.state.parentClient}}).then((function(e){var t=e.docs[0];console.log(t),n.setState({header:t.header.hex,active:t.active.hex,secondary:t.secondary.hex,secondaryProgress:t.secondary.rgb,background:t.background.hex}),console.log(n.state.secondaryProgress)})).catch((function(e){console.log(e)}))},n.getQuestions=function(){n.props.dbQuestion.find({selector:{parentGame:n.props.location}}).then((function(e){var t=e.docs;n.setState({questions:t,seconds:t[0].time}),console.log(n.state.questions)})).catch((function(e){console.log(e)}))},n.fetchUsers=function(){n.props.dbScore.find({selector:{gameId:n.props.location}}).then((function(e){var t=e.docs;n.setState({users:t.sort((function(e,t){return e.score<t.score||e.score===t.score&&e.user>t.user?1:-1}))}),console.log(n.state.users)})).catch((function(e){console.log(e)}))},n.getQuestions=n.getQuestions.bind(Object(g.a)(n)),n.nextAnswers=n.nextAnswers.bind(Object(g.a)(n)),n.nextQuestion=n.nextQuestion.bind(Object(g.a)(n)),n.showAnswers=n.showAnswers.bind(Object(g.a)(n)),n.fetchUsers=n.fetchUsers.bind(Object(g.a)(n)),n.getColors=n.getColors.bind(Object(g.a)(n)),n.getUser=n.getUser.bind(Object(g.a)(n)),n.goBack=n.goBack.bind(Object(g.a)(n)),n.state={parentGame:n.props.location,parentClient:"",userData:null,questions:null,current:0,completed:1,correct:0,correctList:[],myAnswers:[],myTime:0,myTimes:[],timePerQuestion:0,totalScore:0,thisScore:0,seconds:1,finished:!1,correctClass:"",wrongClass:"",currentAnswer:"",timesUp:0,questionScreen:!0,answerScreen:!1,users:null,header:"",active:"",secondary:"",secondaryProgress:"",background:""},n}return Object(p.a)(a,[{key:"componentWillUnmount",value:function(){this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)}))}},{key:"showAnswers",value:function(e){var t=this;this.setState({myTime:this.state.myTime+(this.state.questions[this.state.current].time-this.state.seconds)}),this.setState((function(e){return{myTimes:[].concat(Object(G.a)(e.myTimes),[t.state.questions[t.state.current].time-t.state.seconds])}})),clearInterval(this.myInterval),this.setState((function(t){return{myAnswers:[].concat(Object(G.a)(t.myAnswers),[e])}})),e===this.state.questions[this.state.current].correct?(this.setState((function(e){return{correctList:[].concat(Object(G.a)(e.correctList),["correct"])}})),this.setState({correct:this.state.correct+1}),this.setState({totalScore:this.state.totalScore+this.state.seconds/this.state.questions[this.state.current].time*100,thisScore:this.state.seconds/this.state.questions[this.state.current].time*100})):this.setState((function(e){return{correctList:[].concat(Object(G.a)(e.correctList),["incorrect"])}})),this.state.questions[this.state.current].correct===this.state.questions[this.state.current].answers[0]?this.setState({correctClass:"A"}):this.state.questions[this.state.current].correct===this.state.questions[this.state.current].answers[1]?this.setState({correctClass:"B"}):this.state.questions[this.state.current].correct===this.state.questions[this.state.current].answers[2]?this.setState({correctClass:"C"}):this.state.questions[this.state.current].correct===this.state.questions[this.state.current].answers[3]&&this.setState({correctClass:"D"}),e===this.state.questions[this.state.current].correct?this.setState({wrongClass:""}):e===this.state.questions[this.state.current].answers[0]?this.setState({wrongClass:"A"}):e===this.state.questions[this.state.current].answers[1]?this.setState({wrongClass:"B"}):e===this.state.questions[this.state.current].answers[2]?this.setState({wrongClass:"C"}):e===this.state.questions[this.state.current].answers[3]&&this.setState({wrongClass:"D"}),setTimeout(this.nextQuestion,1e3)}},{key:"nextQuestion",value:function(){if(this.setState({timesUp:0,thisScore:0,questionScreen:!0,answerScreen:!1}),this.state.current===this.state.questions.length-1){this.setState({finished:!0});for(var e=[],t=0;t<this.state.questions.length;t++)e.push([this.state.questions[t].question,this.state.questions[t].correct,this.state.myAnswers[t],this.state.myTimes[t],this.state.correctList[t]]);console.log(e),this.props.dbScore.put({_id:(new Date).toJSON(),user:this.state.userData._id,userName:this.state.userData.firstname,game:this.state.parentGame,gameId:this.props.location,score:this.state.totalScore,time:this.state.myTime,correct:this.state.correct,questions:this.state.questions.length,stats:e})}else this.setState({current:this.state.current+1,completed:this.state.completed+1,seconds:this.state.questions[this.state.current].time})}},{key:"nextAnswers",value:function(){var e=this;this.setState({questionScreen:!1,answerScreen:!0,correctClass:"",wrongClass:""}),this.myInterval=setInterval((function(){e.state.seconds>0?e.setState({seconds:e.state.seconds-1}):(clearInterval(e.myInterval),e.setState((function(t){return{myTimes:[].concat(Object(G.a)(t.myTimes),[e.state.questions[e.state.current].time-e.state.seconds])}})),e.setState((function(e){return{myAnswers:[].concat(Object(G.a)(e.myAnswers),[" "])}})),e.setState({myTime:e.state.myTime+e.state.questions[e.state.current].time,timesUp:3}),e.timeUpInterval=setInterval((function(){e.state.timesUp>1?e.setState({timesUp:e.state.timesUp-1}):(clearInterval(e.timeUpInterval),e.nextQuestion())}),1e3))}),1e3)}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"playing",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:this.props.location}),s.a.createElement("div",{className:"game-and-score"},s.a.createElement("h3",null,this.state.parentGame),s.a.createElement("h5",{style:{color:this.state.secondary}},this.state.totalScore)),s.a.createElement("div",{className:"progress"},s.a.createElement("div",{className:"bar"},s.a.createElement(he,{completed:this.state.completed/this.state.questions.length*100,color:this.state.secondary,progressColor:this.state.secondaryProgress}),s.a.createElement("h5",{style:{color:this.state.secondary}},this.state.current+1," / ",this.state.questions.length)),s.a.createElement("div",{className:"time"},s.a.createElement("h5",{style:{color:this.state.secondary}},s.a.createElement("span",null,s.a.createElement(v.b,{color:this.state.active,size:"2rem"}))," ",this.state.seconds," sec"))),s.a.createElement("div",{className:"quiz-area"},this.state.timesUp?s.a.createElement("div",{className:"times-up-background"},s.a.createElement("div",{className:"times-up-modal"},s.a.createElement("div",{className:"times-up-modal-content"},s.a.createElement("span",null,s.a.createElement(v.b,{color:this.state.active,size:"3rem"})),s.a.createElement("h2",null,"Time's up"),s.a.createElement("h4",null,"The quiz will continue in"),s.a.createElement("h3",{style:{color:this.state.secondary}},this.state.timesUp)))):null,s.a.createElement("div",{className:"question"},s.a.createElement("h3",null,this.state.questions[this.state.current].question),this.state.answerScreen?s.a.createElement("h6",null,"Select one answer choice."):null),this.state.questionScreen?s.a.createElement("div",{className:"questions"},s.a.createElement("button",{onClick:this.nextAnswers,style:{background:this.state.active}},"Show answer choices")):null,this.state.answerScreen?s.a.createElement("div",{className:"answers"},s.a.createElement("div",null,s.a.createElement("button",{className:"A"===this.state.correctClass?"answer correct":"A"===this.state.wrongClass?"answer wrong":"answer",onClick:function(){return e.showAnswers(e.state.questions[e.state.current].answers[0])}},s.a.createElement("h4",null,this.state.questions[this.state.current].answers[0]))),s.a.createElement("div",null,s.a.createElement("button",{className:"B"===this.state.correctClass?"answer correct":"B"===this.state.wrongClass?"answer wrong":"answer",onClick:function(){return e.showAnswers(e.state.questions[e.state.current].answers[1])}},s.a.createElement("h4",null,this.state.questions[this.state.current].answers[1]))),s.a.createElement("div",null,s.a.createElement("button",{className:"C"===this.state.correctClass?"answer correct":"C"===this.state.wrongClass?"answer wrong":"answer",onClick:function(){return e.showAnswers(e.state.questions[e.state.current].answers[2])}},s.a.createElement("h4",null,this.state.questions[this.state.current].answers[2]))),s.a.createElement("div",null,s.a.createElement("button",{className:"D"===this.state.correctClass?"answer correct":"D"===this.state.wrongClass?"answer wrong":"answer",onClick:function(){return e.showAnswers(e.state.questions[e.state.current].answers[3])}},s.a.createElement("h4",null,this.state.questions[this.state.current].answers[3])))):null,0!==this.state.thisScore?s.a.createElement("div",null,s.a.createElement("h2",{style:{color:this.state.secondary}},this.state.thisScore)):null))}},{key:"render",value:function(){return null===this.state.questions?null:this.state.finished?s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:null}),s.a.createElement("div",{className:"finish-game-name"},s.a.createElement("h3",null,this.state.parentGame)),s.a.createElement(ge,{correct:this.state.correct,total:this.state.questions.length,score:this.state.totalScore,time:this.state.myTime,users:this.state.users,dbRating:this.props.dbRating,history:this.props.history,color:this.state.secondary,star:this.state.active,location:this.props.location,client:this.state.parentClient})):this.state.userData?this.state.userData.admin||this.state.userData.teamEditor||this.state.userData.gameEditor?s.a.createElement("div",null,this.playing()):void 0:null}}]),a}(s.a.Component);function fe(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(be,{location:e.location.pathname.replace("/play/",""),userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var Ee=a(15);function ve(){var e=Object(n.useContext)(w),t=e.userData,a=e.setUserData,r=Object(Ee.e)();return s.a.createElement("nav",{className:"auth-options"},t.user?s.a.createElement("button",{onClick:function(){a({token:void 0,user:void 0}),localStorage.setItem("auth-token","")}},"Log out"):s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{onClick:function(){return r.push("/register")}},"Register"),s.a.createElement("button",{onClick:function(){return r.push("/login")}},"Log in")))}function Ce(){var e=Object(n.useContext)(w).userData;return s.a.createElement("div",{className:"page"},e.user?s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,"Welcome ",e.user.userName),s.a.createElement(ve,null)):s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",null,"You are not logged in"),s.a.createElement(y.b,{to:"/login"},"Log in")))}function ye(e){return s.a.createElement("div",{className:"error-notice"},s.a.createElement("span",null,e.message),s.a.createElement("button",{onClick:e.clearError},"X"))}a(169);function Ne(){var e=Object(n.useState)(),t=Object(m.a)(e,2),r=t[0],i=t[1],o=Object(n.useState)(),u=Object(m.a)(o,2),h=u[0],p=u[1],g=Object(n.useState)(),b=Object(m.a)(g,2),f=b[0],E=b[1],v=Object(n.useContext)(w).setUserData,C=Object(Ee.e)(),y=function(){var e=Object(c.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={email:r,password:h},e.next=5,d.a.post("ds227565.mlab.com:27565/heroku_gflx9gcm/users/login",a);case 5:n=e.sent,v({token:n.data.token,user:n.data.user}),localStorage.setItem("auth-token",n.data.token),C.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.data.msg&&E(e.t0.response.data.msg);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:"root-container-login"},s.a.createElement("img",{src:a(122),alt:"Local Wisdom logo",className:"form-img"}),s.a.createElement("div",{className:"box-container-login"},s.a.createElement("div",{className:"inner-container-login"},s.a.createElement("div",{className:"login-header"},s.a.createElement("h1",null,"Log In")),s.a.createElement("div",{className:"box"},f&&s.a.createElement(ye,{message:f,clearError:function(){return E(void 0)}}),s.a.createElement("form",{onSubmit:y},s.a.createElement("div",{className:"input-group"},s.a.createElement("label",{htmlFor:"login-email"},"Email"),s.a.createElement("input",{id:"login-email",className:"login-input",type:"email",placeholder:"email",onChange:function(e){return i(e.target.value)}})),s.a.createElement("div",{className:"input-group"},s.a.createElement("label",{htmlFor:"login-password"},"Password"),s.a.createElement("input",{id:"login-password",className:"login-input",type:"password",placeholder:"********",onChange:function(e){return p(e.target.value)}})),s.a.createElement("input",{type:"submit",value:"Sign in",className:"login-btn"})),s.a.createElement("div",{className:"login-extras"},s.a.createElement("button",{onClick:null,className:"login-register"},"Forgot Password?"),s.a.createElement("button",{onClick:function(){return C.push("/register")},className:"login-register"}))))))}function Se(e){var t=Object(n.useState)(),a=Object(m.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(),u=Object(m.a)(o,2),h=u[0],p=u[1],g=Object(n.useState)(),b=Object(m.a)(g,2),f=b[0],E=b[1],v=Object(n.useState)(),C=Object(m.a)(v,2),y=C[0],N=C[1],S=Object(n.useState)(),T=Object(m.a)(S,2),k=T[0],O=T[1],A=Object(n.useState)(),j=Object(m.a)(A,2),D=j[0],U=j[1],x=Object(n.useState)(),Q=Object(m.a)(x,2),_=Q[0],G=Q[1],I=Object(n.useState)(),B=Object(m.a)(I,2),z=B[0],q=B[1],L=Object(n.useState)(),M=Object(m.a)(L,2),P=M[0],R=M[1],F=Object(n.useContext)(w).setUserData,V=Object(Ee.e)();Object(n.useEffect)((function(){Y(),G("employee"),P&&(i(P.email),O(P.firstname),U(P.lastname))}));var X=function(){var e=Object(c.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={email:r,password:h,passwordCheck:f,title:_,userName:y,firstName:k,lastName:D},e.next=5,d.a.post("ds227565.mlab.com:27565/heroku_gflx9gcm/users/register",a);case 5:return e.next=7,d.a.post("ds227565.mlab.com:27565/heroku_gflx9gcm/users/login",{email:r,password:h});case 7:n=e.sent,F({token:n.data.token,user:n.data.user}),localStorage.setItem("auth-token",n.data.token),V.push("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0.response.data.msg&&q(e.t0.response.data.msg);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){try{e.dbUser.find({selector:{_id:e.location.pathname.replace("/register/","")}}).then((function(e){var t=e.docs;R(t[0])})).catch((function(e){console.log(e)}))}catch(t){t.response.data.msg&&q(t.response.data.msg)}};return s.a.createElement("div",{className:"root-container-register"},s.a.createElement("div",{className:"box-container-register"},s.a.createElement("div",{className:"inner-container-register"},s.a.createElement("div",{className:"register-header"},s.a.createElement("h1",null,"Create Account")),s.a.createElement("div",{className:"box"},z&&s.a.createElement(ye,{message:z,clearError:function(){return q(void 0)}}),s.a.createElement("form",{onSubmit:X},s.a.createElement("div",{className:"input-group-double-container"},s.a.createElement("div",{className:"input-group-double"},s.a.createElement("label",{htmlFor:"register-firstname"},"First Name"),s.a.createElement("h3",null,P?P.firstname:null)),s.a.createElement("div",{className:"input-group-double"},s.a.createElement("label",{htmlFor:"register-lastname"},"Last Name"),s.a.createElement("h3",null,P?P.lastname:null))),s.a.createElement("div",{className:"input-group-double-container"},s.a.createElement("div",{className:"input-group-double"},s.a.createElement("label",{htmlFor:"register-user-name"},"Username"),s.a.createElement("input",{id:"register-user-name",className:"login-input",maxLength:"20",type:"text",onChange:function(e){return N(e.target.value)}}),y?s.a.createElement("span",null,y?y.length:0," / 20 characters"):null),s.a.createElement("div",{className:"input-group-double"},s.a.createElement("label",{htmlFor:"register-email"},"Email"),s.a.createElement("h3",null,P?P.email:null))),s.a.createElement("div",{className:"input-group-double-container"},s.a.createElement("div",{className:"input-group-double"},s.a.createElement("label",{htmlFor:"register-password"},"Password"),s.a.createElement("input",{id:"register-password",className:"login-input",type:"password",onChange:function(e){return p(e.target.value)}})),s.a.createElement("div",{className:"input-group-double"},s.a.createElement("label",{htmlFor:"register-confirm-password"},"Confirm Password"),s.a.createElement("input",{type:"password",className:"login-input",placeholder:"Verify password",onChange:function(e){return E(e.target.value)}}))),s.a.createElement("div",{className:"input-group-photo"},s.a.createElement("label",{htmlFor:"register-photo"},"Profile Picture"),s.a.createElement("div",{className:"profile-photo-upload"},s.a.createElement("span",null,s.a.createElement(pe.b,{size:25,color:"#A8A8A8"})),s.a.createElement("h5",{style:{color:"#A8A8A8"}},"Upload Photo"))),s.a.createElement("input",{type:"submit",className:"register-btn",value:"Create Account"}))))))}var we=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getGameById()},n.getGameById=function(){n.props.dbGame.find({selector:{_id:n.props._id}}).then((function(e){var t=e.docs;n.setState({doc:t}),console.log(n.state.doc),console.log(n.props._id)})).catch((function(e){console.log(e)})),n.getQuestions()},n.getQuestions=function(){n.props.dbQuestion.find({selector:{parentGame:n.props._id}}).then((function(e){var t=e.docs;n.setState({questions:t})})).catch((function(e){console.log(e)}))},n.state={doc:"",questions:null},n.getGameById=n.getGameById.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"timeEstimation",value:function(){return Number(this.state.doc[0].timePerQuestion)*Number(this.state.questions?this.state.questions.length:0)}},{key:"totalScore",value:function(){return 100*Number(this.state.questions?this.state.questions.length:0)}},{key:"render",value:function(){return""===this.state.doc?null:s.a.createElement("div",null,s.a.createElement(y.b,{to:"/play/"+this.props._id,style:{textDecoration:"none"}},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-stats"},s.a.createElement("div",{className:"card-stats-title"},s.a.createElement("h3",{style:{color:this.props.color}},this.state.doc[0].name),s.a.createElement("span",{className:"sub-stat",style:{color:"red"}},"due 8/15/20")),s.a.createElement("h3",null,this.timeEstimation()<60?this.timeEstimation()+" sec":Math.round(this.timeEstimation()/60)+" min"),s.a.createElement("h3",null,this.state.questions?this.state.questions.length:0),s.a.createElement("h3",null,this.totalScore())))))}}]),a}(s.a.Component),Te=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.getGameById()},n.getGameById=function(){n.props.dbScore.find({selector:{gameId:n.props._id}}).then((function(e){var t=e.docs;n.setState({doc:t}),console.log(n.state.doc)})).catch((function(e){console.log(e)}))},n.openGame=function(){n.getGameById(),n.setState({active:!0})},n.state={doc:"",active:!1},n.getGameById=n.getGameById.bind(Object(g.a)(n)),n.openGame=n.openGame.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"render",value:function(){return""===this.state.doc?null:!0===this.state.active?s.a.createElement(ke,{_id:this.props._id,game:this.state.doc[0],dbGame:this.props.dbGame,dbScore:this.props.dbScore,cancel:this.props.cancel,color:this.props.color}):s.a.createElement("div",{className:"card",onClick:this.openGame,style:{cursor:"pointer"}},s.a.createElement("div",{className:"card-stats"},s.a.createElement("div",{className:"card-stats-title"},s.a.createElement("h3",{style:{color:this.props.color},className:"complete-title"},s.a.createElement("span",{className:"caret"},s.a.createElement(E.a,{color:"#888",size:20})),s.a.createElement("span",null,this.state.doc[0].game)),s.a.createElement("span",{className:"complete"},"Complete")),s.a.createElement("h3",null,this.state.doc[0].time<60?this.state.doc[0].time+" sec":Math.round(this.state.doc[0].time/60)+" min"),s.a.createElement("h3",null,this.state.doc[0].correct),s.a.createElement("h3",null,this.state.doc[0].score)))}}]),a}(s.a.Component),ke=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).cancel=function(){n.setState({active:!1})},n.componentDidMount=function(){n.fetchUsers(),n.getGameById(),n.canceler=n.props.dbScore.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){n.fetchUsers()}))},n.fetchUsers=function(){n.props.dbScore.find({selector:{gameId:n.props._id}}).then((function(e){var t=e.docs;n.setState({users:t.sort((function(e,t){return e.score<t.score||e.score===t.score&&e.user>t.user?1:-1}))}),console.log(n.state.users)})).catch((function(e){console.log(e)}))},n.getGameById=function(){n.props.dbScore.find({selector:{gameId:n.props._id}}).then((function(e){var t=e.docs;n.setState({doc:t}),console.log(n.state.doc)})).catch((function(e){console.log(e)}))},n.state={active:!0,doc:"",users:null},n.fetchUsers=n.fetchUsers.bind(Object(g.a)(n)),n.getLeaderboard=n.getLeaderboard.bind(Object(g.a)(n)),n.getGameById=n.getGameById.bind(Object(g.a)(n)),n.cancel=n.cancel.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"getLeaderboard",value:function(){var e=this;if(this.state.users)return this.state.users.slice(0,5).map((function(t,a){return s.a.createElement("div",{className:"card-leaderboard-users",key:a},s.a.createElement("h3",{style:{textAlign:"left",transform:"translate(1.2rem)"}},e.state.users[a].userName),s.a.createElement("h3",null,Math.round(e.state.users[a].time/60)," min"),s.a.createElement("h3",null,e.state.users[a].correct," / ",e.state.users[a].questions),s.a.createElement("h3",null,e.state.users[a].score))}))}},{key:"render",value:function(){return""===this.state.doc?null:!1===this.state.active?s.a.createElement(Te,{_id:this.props._id,game:this.props.game,dbGame:this.props.dbGame,dbScore:this.props.dbScore,active:this.state.active,cancel:this.props.cancel,color:this.props.color}):s.a.createElement("div",{onClick:this.cancel,style:{cursor:"pointer"}},s.a.createElement("div",{className:"card-open",onClick:this.openGame},s.a.createElement("div",{className:"card-stats"},s.a.createElement("div",{className:"card-stats-title"},s.a.createElement("h3",{style:{color:this.props.color},className:"complete-title"},s.a.createElement("span",{className:"caret"},s.a.createElement(E.b,{color:"#888",size:20})),s.a.createElement("span",null,this.props.game.game)),s.a.createElement("span",{className:"complete"},"Complete")),s.a.createElement("h3",null,this.state.doc[0].time<60?this.state.doc[0].time+" sec":Math.round(this.state.doc[0].time/60)+" min"),s.a.createElement("h3",null,this.state.doc[0].correct),s.a.createElement("h3",null,this.state.doc[0].score))),s.a.createElement("div",{className:"leaderboard-header"},s.a.createElement("span",{style:{background:this.props.color}},"Leaderboard")),s.a.createElement("div",{className:"card-leaderboard"},this.getLeaderboard()))}}]),a}(s.a.Component),Oe=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).fetchClient=function(){n.setState({clientName:""}),n.props.dbClient.find({selector:{_id:n.state.parentClient}}).then((function(e){var t=e.docs[0];if(t.logo)var a=URL.createObjectURL(t.logo);n.setState({clientName:t.nameClient,header:t.header.hex,activeColor:t.active.hex,secondary:t.secondary.hex,background:t.background.hex,headerImage:a}),console.log(n.state.clientName)})).catch((function(e){console.log(e)}))},n.fetchGames=function(){var e=[],t=[];n.setState({unplayedGames:null}),n.setState({completedGames:null}),n.props.dbGame.find({selector:{parentTeam:n.state.userData.parentTeam}}).then((function(e){var a=e.docs;t=a.slice(),console.log(t)})).catch((function(e){console.log(e)})),n.props.dbScore.find({selector:{user:n.state.userData._id}}).then((function(a){var s=a.docs;e=s.slice(),console.log(e),console.log(t);for(var r=0;r<e.length;r++)for(var i=0;i<t.length;i++)e[r].gameId===t[i]._id&&t.splice(i,1);n.setState({unplayedGames:t,completedGames:e})})).catch((function(e){console.log(e)}))},n.cancel=function(){n.setState({active:!1})},n.fetchGames.bind(Object(g.a)(n)),n.fetchClient.bind(Object(g.a)(n)),n.getUser=n.getUser.bind(Object(g.a)(n)),n.cancel=n.cancel.bind(Object(g.a)(n)),n.state={parentClient:n.props.location,userData:null,unplayedGames:null,completedGames:null,clientName:"",active:!1,header:"",activeColor:"",secondary:"",background:"",headerImage:""},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.fetchClient(),this.getUser(),this.canceler=this.props.dbGame.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchGames()})),this.canceler=this.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getUser()}))}},{key:"componentDidUpdate",value:function(){document.body.style.background=this.state.background}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)})),setTimeout((function(){e.fetchGames()}),1e3)}},{key:"completedGamesList",value:function(){var e=this;return this.state.completedGames.map((function(t,a){return s.a.createElement(Te,{key:a,_id:t.gameId,dbGame:e.props.dbGame,dbQuestion:e.props.dbQuestion,dbScore:e.props.dbScore,active:e.state.active,cancel:e.cancel,color:e.state.activeColor})}))}},{key:"unplayedGamesList",value:function(){var e=this;return this.state.unplayedGames.map((function(t,a){return s.a.createElement(we,{key:a,_id:t._id,dbGame:e.props.dbGame,dbQuestion:e.props.dbQuestion,dbScore:e.props.dbScore,active:e.state.active,cancel:e.cancel,color:e.state.activeColor})}))}},{key:"render",value:function(){return null===this.state.unplayedGames||null===this.state.completedGames?null:this.state.userData?s.a.createElement("div",null,s.a.createElement(S,{admin:this.state.userData.admin||this.state.userData.teamEditor?"/teams/"+this.state.parentClient:this.state.userData.gameEditor?"/games/"+this.state.parentClient:this.state.userData.themeEditor?"/themes/"+this.state.parentClient:this.state.userData.analyticsViewer?"/editTeams/users/"+this.state.parentClient:null,game:this.props.location,background:this.state.header,image:this.state.headerImage,profile:"/profile/"+this.state.userData._id}),s.a.createElement("div",{className:"info"}),s.a.createElement("div",{className:"info title",style:{marginTop:"30px"}},s.a.createElement("h3",{style:{margin:"0"}},"Hello")),this.state.unplayedGames?s.a.createElement("div",{className:"banner",style:{background:this.state.activeColor}},s.a.createElement("h5",null,"You have"," ",this.state.unplayedGames?this.state.unplayedGames.length:0," ","new quizzes to complete!")):null,s.a.createElement("div",{className:"info add-container",style:{marginTop:"0"}},s.a.createElement("h3",{style:{margin:"0"}},this.state.userData.firstname)),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",{style:{fontWeight:"300",fontSize:"1.5rem"}},this.state.unplayedGames?this.state.unplayedGames.length:0," ","QUIZZES TO COMPLETE"),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(v.b,{color:this.state.activeColor,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"ESTIMATED TIME"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(ee.a,{color:this.state.activeColor,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"QUESTIONS"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(pe.a,{color:this.state.activeColor,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"TOTAL SCORE"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15})))),this.unplayedGamesList()),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",{style:{fontWeight:"300",fontSize:"1.5rem"}},this.state.completedGames?this.state.completedGames.length:0," ","COMPLETED QUIZZES"),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(v.b,{color:this.state.activeColor,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"ACTUAL COMPLETION TIME"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(ee.a,{color:this.state.activeColor,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"QUESTIONS CORRECT"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15}))),s.a.createElement("h3",{style:{transform:"translate(-2.5rem)"}},s.a.createElement(pe.a,{color:this.state.activeColor,size:"2rem"}),s.a.createElement("span",{className:"label-icon"},"TOTAL SCORE"),s.a.createElement("span",null,s.a.createElement(E.a,{color:"#888",size:15})))),this.completedGamesList())):null}}]),a}(n.Component);function Ae(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(Oe,{location:e.location.pathname.replace("/playHome/",""),userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var je=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={online:!0},n.heartBeat.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.mounted=!0,this.heartBeat()}},{key:"heartBeat",value:function(){var e=this;if(this.mounted){var t=new Request("http://127.0.0.1:5984/_up",{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",cache:"default"});fetch(t).then((function(t){e.mounted&&(t.ok&&!e.state.online?e.setState({online:!0}):!t.ok&&e.state.online&&e.setState({online:!1}),setTimeout(e.heartBeat.bind(e),2e3))})).catch((function(){e.mounted&&(e.state.online&&e.setState({online:!1}),setTimeout(e.heartBeat.bind(e),2e3))}))}}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){this.state.online;return null}}]),a}(s.a.Component),De=a(179),Ue=(a(170),function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n,s;return Object(h.a)(this,a),(s=t.call(this,e)).reducerScore=function(e,t){return NaN==e.score||NaN==t.score?void 0:Number(e)+Number(t.score)},s.reducerTime=function(e,t){return NaN==e.time||NaN==t.time?void 0:Number(e)+Number(t.time)},s.reducerQuestions=function(e,t){return NaN==e.questions||NaN==t.questions?void 0:Number(e)+Number(t.questions)},s.reducerCorrect=function(e,t){return NaN==e.correct||NaN==t.correct?void 0:Number(e)+Number(t.correct)},s.state=(n={user_id:e.location.pathname.replace("/profileAdmin/",""),totalScore:null,scoreDocs:null,gamesPlayed:null,avgTimeAnswer:null,user:null,username:"",lastname:"",firstname:"",email:"",admin:null,analyticsViewer:null,gameEditor:null,teamEditor:null,themeEditor:null,playerOnly:null,options:[{name:"Admin",id:"admin"},{name:"Analytics Viewer",id:"analyticsViewer"},{name:"Game Editor",id:"gameEditor"},{name:"Team Editor",id:"teamEditor"},{name:"Theme Editor",id:"themeEditor"},{name:"Player Only",id:"playerOnly"}],selectedPermissions:[],image:""},Object(M.a)(n,"totalScore",null),Object(M.a)(n,"totTime",null),Object(M.a)(n,"totQ",null),Object(M.a)(n,"avgTime",null),Object(M.a)(n,"percentCorrect",null),Object(M.a)(n,"questionsCorrect",null),Object(M.a)(n,"clientName",null),Object(M.a)(n,"title",null),n),s.getScoreDocs=s.getScoreDocs.bind(Object(g.a)(s)),s.getSelectedPermissions=s.getSelectedPermissions.bind(Object(g.a)(s)),s.getUser=s.getUser.bind(Object(g.a)(s)),s.onSelect=s.onSelect.bind(Object(g.a)(s)),s.getTotalScore=s.getTotalScore.bind(Object(g.a)(s)),s.reducerScore=s.reducerScore.bind(Object(g.a)(s)),s.reducerTime=s.reducerTime.bind(Object(g.a)(s)),s.reducerQuestions=s.reducerQuestions.bind(Object(g.a)(s)),s.reducerCorrect=s.reducerCorrect.bind(Object(g.a)(s)),s.getTotTime=s.getTotTime.bind(Object(g.a)(s)),s.getTotQuestions=s.getTotQuestions.bind(Object(g.a)(s)),s.getQuestionCorrect=s.getQuestionCorrect.bind(Object(g.a)(s)),s.getClientName=s.getClientName.bind(Object(g.a)(s)),s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.getScoreDocs(),this.getUser(),this.canceler=this.props.dbScore.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getScoreDocs()})),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getUser()}))}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1}},{key:"getScoreDocs",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dbScore.find({selector:{user:this.state.user_id}}).then((function(e){var a=e.docs;t.setState({scoreDocs:a,gamesPlayed:a.length})})).catch((function(e){console.log(e)}));case 2:this.getTotalScore(),this.getTotTime(),this.getTotQuestions(),this.getQuestionCorrect();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dbUser.find({selector:{_id:this.state.user_id}}).then((function(e){var a=e.docs;t.setState({user:a,username:a[0].username,email:a[0].email,firstname:a[0].firstname,lastname:a[0].lastname,admin:a[0].admin,analyticsViewer:a[0].analyticsViewer,gameEditor:a[0].gameEditor,teamEditor:a[0].teamEditor,themeEditor:a[0].themeEditor,playerOnly:a[0].playerOnly,image:a[0].image,title:a[0].title}),console.log(t.state.user),t.getSelectedPermissions()})).catch((function(e){console.log(e)}));case 2:this.getClientName();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getClientName",value:function(){var e=this;this.props.dbClient.find({selector:{_id:this.state.user[0].parentClient}}).then((function(t){var a=t.docs;console.log(t.docs),e.setState({clientName:a[0].nameClient})}))}},{key:"getTotalScore",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerScore,0));this.setState({totalScore:e})}},{key:"getTotTime",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerTime,0));this.setState({totTime:e})}},{key:"getTotQuestions",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerQuestions,0));this.setState({totQ:e,avgTime:this.state.totTime/e})}},{key:"getQuestionCorrect",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerCorrect,0));this.setState({questionsCorrect:e,percentCorrect:e/this.state.totQ*100})}},{key:"getSelectedPermissions",value:function(){if(!0===this.state.admin){var e=[{name:"Admin",id:"admin"}];this.setState((function(t){return{selectedPermissions:[].concat(Object(G.a)(t.selectedPermissions),e)}}))}if(!0===this.state.analyticsViewer){var t=[{name:"Analytics Viewer",id:"analyticsViewer"}];this.setState((function(e){return{selectedPermissions:[].concat(Object(G.a)(e.selectedPermissions),t)}}))}if(!0===this.state.gameEditor){var a=[{name:"Game Editor",id:"gameEditor"}];this.setState((function(e){return{selectedPermissions:[].concat(Object(G.a)(e.selectedPermissions),a)}}))}if(!0===this.state.teamEditor){var n=[{name:"Team Editor",id:"teamEditor"}];this.setState((function(e){return{selectedPermissions:[].concat(Object(G.a)(e.selectedPermissions),n)}}))}if(!0===this.state.themeEditor){var s=[{name:"Theme Editor",id:"themeEditor"}];this.setState((function(e){return{selectedPermissions:[].concat(Object(G.a)(e.selectedPermissions),s)}}))}if(!0===this.state.playerOnly){var r=[{name:"Player Only",id:"playerOnly"}];this.setState((function(e){return{selectedPermissions:[].concat(Object(G.a)(e.selectedPermissions),r)}}))}}},{key:"onSelect",value:function(){var e=Object(c.a)(l.a.mark((function e(t,a){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.dbUser,s=this.state.user_id,"admin"!==a.id){e.next=5;break}return e.next=5,this.props.dbUser.get(this.state.user_id).then((function(e){return e.admin=!0,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 5:if("analyticsViewer"!==a.id){e.next=8;break}return e.next=8,this.props.dbUser.get(this.state.user_id).then((function(e){return e.analyticsViewer=!0,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 8:if("gameEditor"!==a.id){e.next=11;break}return e.next=11,this.props.dbUser.get(this.state.user_id).then((function(e){return e.gameEditor=!0,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 11:if("teamEditor"!==a.id){e.next=14;break}return e.next=14,this.props.dbUser.get(this.state.user_id).then((function(e){return e.teamEditor=!0,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 14:if("themeEditor"!==a.id){e.next=17;break}return e.next=17,this.props.dbUser.get(this.state.user_id).then((function(e){return e.themeEditor=!0,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 17:if("playerOnly"!==a.id){e.next=20;break}return e.next=20,this.props.dbUser.get(this.state.user_id).then((function(e){return e.playerOnly=!0,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 20:window.location.reload(!0);case 21:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onRemove",value:function(){var e=Object(c.a)(l.a.mark((function e(t,a){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.dbUser,s=this.state.user_id,"admin"!==a.id){e.next=5;break}return e.next=5,this.props.dbUser.get(this.state.user_id).then((function(e){return e.admin=!1,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 5:if("analyticsViewer"!==a.id){e.next=8;break}return e.next=8,this.props.dbUser.get(this.state.user_id).then((function(e){return e.analyticsViewer=!1,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 8:if("gameEditor"!==a.id){e.next=11;break}return e.next=11,this.props.dbUser.get(this.state.user_id).then((function(e){return e.gameEditor=!1,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 11:if("teamEditor"!==a.id){e.next=14;break}return e.next=14,this.props.dbUser.get(this.state.user_id).then((function(e){return e.teamEditor=!1,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 14:if("themeEditor"!==a.id){e.next=17;break}return e.next=17,this.props.dbUser.get(this.state.user_id).then((function(e){return e.themeEditor=!1,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 17:if("playerOnly"!==a.id){e.next=20;break}return e.next=20,this.props.dbUser.get(this.state.user_id).then((function(e){return e.playerOnly=!1,n.put(e)})).then((function(){return n.get(s)})).then((function(e){console.log(e)}));case 20:window.location.reload(!0);case 21:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null===this.state.user?null:s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:"/playHome/"+this.state.user[0].parentClient,profile:"/profile/"+this.state.user_id}),s.a.createElement(y.b,{className:"info back",to:"/playHome/"+this.state.user[0].parentClient},s.a.createElement("h3",null,"\u2190 Back to Games")),s.a.createElement("div",{className:"profile_client_div"},s.a.createElement("p",{className:"profile_client_text"},this.state.clientName," Users")),s.a.createElement("div",{className:"profile_client_name"},s.a.createElement("p",{className:"profile_client_username"},this.state.firstname," ",this.state.lastname)),s.a.createElement("div",{className:"profile_nav"},s.a.createElement(y.b,{to:"/profileAdmin/"+this.state.user_id},s.a.createElement("h3",{className:"profile_nav_title"},"Profile")),s.a.createElement(y.b,{to:"/profileTeam/"+this.state.user_id},s.a.createElement("h3",{className:"profile_nav_title"},"Teams")),s.a.createElement(y.b,{to:"/profileQuiz/"+this.state.user_id},s.a.createElement("h3",{className:"profile_nav_title"},"Quizzes"))),s.a.createElement("div",{className:"profile_top"},s.a.createElement("img",{alt:"profile_pic",src:this.state.image,style:{height:100,width:100}}),s.a.createElement("div",{className:"profile_top_name_role"},s.a.createElement("p",{className:"profile_name"},this.state.firstname," ",this.state.lastname," "),s.a.createElement("p",{className:"profile_role"}," ",this.state.title," ")),s.a.createElement("div",{className:"profile_top_email_admin"},s.a.createElement("p",{className:"profile_top_label"},"EMAIL "),s.a.createElement("p",{className:"profile_top_text"}," ",this.state.email," ")),s.a.createElement("div",{className:"profile_top_user_admin"},s.a.createElement("p",{className:"profile_top_label"},"USERNAME "),s.a.createElement("p",{className:"profile_top_text"}," ",this.state.username," ")),s.a.createElement("div",{className:"profile_permissions"},s.a.createElement("p",{className:"profile_top_label"},"USER TYPE "),s.a.createElement(De.Multiselect,{options:this.state.options,selectedValues:this.state.selectedPermissions,onSelect:this.onSelect.bind(this),onRemove:this.onRemove.bind(this),displayValue:"name",style:{multiselectContainer:{width:200,marginLeft:100,border:"none"},option:{color:"white",border:"none"},optionContainer:{border:"none"},chips:{color:"white",border:"none"},searchBox:{border:"none"}}}))),s.a.createElement("div",{className:"profile_score_div"},s.a.createElement("div",{className:"profile_allTime"},s.a.createElement("p",{className:"profile_allTime_label"},"All Time Score"),s.a.createElement("p",{className:"profile_allTime_text"},this.state.totalScore)),s.a.createElement("div",{className:"allTime_except"},s.a.createElement("div",{className:"profile_totGames"},s.a.createElement("p",{className:"profile_label"},"Total # of Games Played"),s.a.createElement("p",{className:"profile_text"},this.state.gamesPlayed)),s.a.createElement("div",{className:"profile_avgTime"},s.a.createElement("p",{className:"profile_label"},"Average Time to Answer"),s.a.createElement("p",{className:"profile_text"},this.state.avgTime," sec")),s.a.createElement("div",{className:"profile_percent"},s.a.createElement("p",{className:"profile_label"},"Percentage Answered Correctly"),s.a.createElement("p",{className:"profile_text"},this.state.percentCorrect,"%")))))}}]),a}(n.Component)),xe=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).reducerScore=function(e,t){return NaN==e.score||NaN==t.score?void 0:Number(e)+Number(t.score)},n.reducerTime=function(e,t){return NaN==e.time||NaN==t.time?void 0:Number(e)+Number(t.time)},n.reducerQuestions=function(e,t){return NaN==e.questions||NaN==t.questions?void 0:Number(e)+Number(t.questions)},n.reducerCorrect=function(e,t){return NaN==e.correct||NaN==t.correct?void 0:Number(e)+Number(t.correct)},n.state={user:null,user_id:e.location.pathname.replace("/profile/",""),username:"",email:"",firstname:"",lastname:"",gamesPlayed:null,image:null,totalScore:null,totTime:null,totQ:null,avgTime:null,percentCorrect:null,questionsCorrect:null,title:null},n.getUser=n.getUser.bind(Object(g.a)(n)),n.getScoreDocs=n.getScoreDocs.bind(Object(g.a)(n)),n.getTotalScore=n.getTotalScore.bind(Object(g.a)(n)),n.reducerScore=n.reducerScore.bind(Object(g.a)(n)),n.reducerTime=n.reducerTime.bind(Object(g.a)(n)),n.reducerQuestions=n.reducerQuestions.bind(Object(g.a)(n)),n.reducerCorrect=n.reducerCorrect.bind(Object(g.a)(n)),n.getTotTime=n.getTotTime.bind(Object(g.a)(n)),n.getTotQuestions=n.getTotQuestions.bind(Object(g.a)(n)),n.getQuestionCorrect=n.getQuestionCorrect.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.getUser(),this.getScoreDocs(),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getUser()})),this.canceler=this.props.dbScore.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getScoreDocs()}))}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{_id:this.state.user_id}}).then((function(t){var a=t.docs;e.setState({user:a,username:a[0].username,email:a[0].email,firstname:a[0].firstname,lastname:a[0].lastname,image:a[0].image,title:a[0].title})})).catch((function(e){console.log(e)}))}},{key:"getScoreDocs",value:function(){var e=Object(c.a)(l.a.mark((function e(){var t=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dbScore.find({selector:{user:this.state.user_id}}).then((function(e){var a=e.docs;t.setState({scoreDocs:a,gamesPlayed:a.length}),console.log(t.state.scoreDocs)})).catch((function(e){console.log(e)}));case 2:this.getTotalScore(),this.getTotTime(),this.getTotQuestions(),this.getQuestionCorrect();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTotalScore",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerScore,0));this.setState({totalScore:e})}},{key:"getTotTime",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerTime,0));this.setState({totTime:e})}},{key:"getTotQuestions",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerQuestions,0));this.setState({totQ:e,avgTime:this.state.totTime/e})}},{key:"getQuestionCorrect",value:function(){var e=Number(this.state.scoreDocs.reduce(this.reducerCorrect,0));this.setState({questionsCorrect:e,percentCorrect:e/this.state.totQ*100})}},{key:"render",value:function(){return null===this.state.user?null:s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:"/playHome/"+this.state.user[0].parentClient,profile:"/profile/"+this.state.user_id}),s.a.createElement(y.b,{className:"info back",to:"/playHome/"+this.state.user[0].parentClient},s.a.createElement("h3",null,"\u2190 Back to Games")),s.a.createElement("div",{className:"profile_top"},s.a.createElement("div",{className:"profile_top_name_role"},s.a.createElement("p",{className:"profile_name"},this.state.firstname," ",this.state.lastname," "),s.a.createElement("p",{className:"profile_role"}," ",this.state.title," ")),s.a.createElement("div",{className:"profile_top_email"},s.a.createElement("p",{className:"profile_top_label"},"EMAIL "),s.a.createElement("p",{className:"profile_top_text"}," ",this.state.email," ")),s.a.createElement("div",{className:"profile_top_user"},s.a.createElement("p",{className:"profile_top_label"},"USERNAME "),s.a.createElement("p",{className:"profile_top_text"}," ",this.state.username," ")),s.a.createElement("button",{className:"edit_profile"},s.a.createElement("p",{className:"edit_profile_text"},"Edit Profile")," ")),s.a.createElement("div",{className:"profile_score_div"},s.a.createElement("div",{className:"profile_allTime"},s.a.createElement("p",{className:"profile_allTime_label"},"All Time Score"),s.a.createElement("p",{className:"profile_allTime_text"},this.state.totalScore)),s.a.createElement("div",{className:"allTime_except"},s.a.createElement("div",{className:"profile_totGames"},s.a.createElement("p",{className:"profile_label"},"Total # of Games Played"),s.a.createElement("p",{className:"profile_text"},this.state.gamesPlayed)),s.a.createElement("div",{className:"profile_avgTime"},s.a.createElement("p",{className:"profile_label"},"Average Time to Answer"),s.a.createElement("p",{className:"profile_text"},Math.round(this.state.avgTime)," sec")),s.a.createElement("div",{className:"profile_percent"},s.a.createElement("p",{className:"profile_label"},"Percentage Answered Correctly"),s.a.createElement("p",{className:"profile_text"},Math.round(this.state.percentCorrect),"%")))))}}]),a}(n.Component),Qe=function(e){return s.a.createElement(y.b,{to:"/editTeam/games/"+e.team._id},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"content"},s.a.createElement("span",{className:"card-name"},e.team.name),s.a.createElement("span",{className:"profile_userCount"},e.userCount),s.a.createElement("span",{className:"profile_quizCount"},e.quizCount))))},_e=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={user_id:e.location.pathname.replace("/profileTeam/",""),team_id:null,client_id:null,teams:null,userCount:null,quizCount:null,clientName:null,firstname:"",lastname:""},n.getUserTeam=n.getUserTeam.bind(Object(g.a)(n)),n.getTeams=n.getTeams.bind(Object(g.a)(n)),n.getUserCount=n.getUserCount.bind(Object(g.a)(n)),n.getQuizCount=n.getQuizCount.bind(Object(g.a)(n)),n.getClientName=n.getClientName.bind(Object(g.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.getUserTeam(),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getUserTeam()})),this.canceler=this.props.dbTeam.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getTeams()})),this.canceler=this.props.dbGame.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getTeams()}))}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1}},{key:"getUserTeam",value:function(){var e=this;this.props.dbUser.find({selector:{_id:this.state.user_id}}).then((function(t){var a=t.docs;e.setState({team_id:a[0].parentTeam,client_id:a[0].parentClient,firstname:a[0].firstname,lastname:a[0].lastname}),console.log(e.state.team_id)})).catch((function(e){console.log(e)})),setTimeout(function(){this.getTeams(),this.getClientName()}.bind(this),1e3)}},{key:"getTeams",value:function(){var e=this;this.props.dbTeam.find({selector:{_id:this.state.team_id}}).then((function(t){var a=t.docs;e.setState({teams:a}),console.log(e.state.teams)})).catch((function(e){console.log(e)})),setTimeout(function(){this.getUserCount(),this.getQuizCount()}.bind(this),100)}},{key:"getUserCount",value:function(){var e=this;this.props.dbUser.find({selector:{parentTeam:this.state.team_id}}).then((function(t){var a=t.docs;e.setState({userCount:a.length})})).catch((function(e){console.log(e)}))}},{key:"getQuizCount",value:function(){var e=this;this.props.dbGame.find({selector:{parentTeam:this.state.team_id}}).then((function(t){var a=t.docs;e.setState({quizCount:a.length})})).catch((function(e){console.log(e)}))}},{key:"getClientName",value:function(){var e=this;this.props.dbClient.find({selector:{_id:this.state.client_id}}).then((function(t){var a=t.docs;e.setState({clientName:a[0].nameClient})})).catch((function(e){console.log(e)}))}},{key:"teamList",value:function(){var e=this;return this.state.teams.map((function(t,a){return s.a.createElement(Qe,{team:t,key:a,userCount:e.state.userCount,quizCount:e.state.quizCount})}))}},{key:"render",value:function(){return null===this.state.teams?null:s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(S,{admin:this.props.location,game:"/playHome/"+this.state.team_id,profile:"/profile/"+this.state.user_id})),s.a.createElement("div",{className:"profile_client_div"},s.a.createElement("p",{className:"profile_client_text"},this.state.clientName," Users")),s.a.createElement("div",{className:"profile_client_name"},s.a.createElement("p",{className:"profile_client_username"},this.state.firstname," ",this.state.lastname)),s.a.createElement("div",{className:"profile_nav"},s.a.createElement(y.b,{to:"/profileAdmin/"+this.state.user_id},s.a.createElement("h3",{className:"profile_nav_title"},"Profile")),s.a.createElement(y.b,{to:"/profileTeam/"+this.state.user_id},s.a.createElement("h3",{className:"profile_nav_title"},"Teams")),s.a.createElement(y.b,{to:"/profileQuiz/"+this.state.user_id},s.a.createElement("h3",{className:"profile_nav_title"},"Quizzes"))),s.a.createElement("div",{className:"userCard_header"},s.a.createElement("p",{className:"team_active_label"},"1 Active Team"),s.a.createElement("p",{className:"team_label_users"}," USERS "),s.a.createElement("p",{className:"team_label_quizes"}," QUIZES ")),s.a.createElement("div",null,this.teamList()))}}]),a}(n.Component),Ge=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n,s;return Object(h.a)(this,a),(s=t.call(this,e)).fetchClient=function(){s.setState({clientName:""}),s.props.dbClient.find({selector:{_id:s.state.parentClient}}).then((function(e){var t=e.docs[0];if(t.logo)var a=URL.createObjectURL(t.logo);s.setState({clientName:t.nameClient,header:t.header.hex,activeColor:t.active.hex,secondary:t.secondary.hex,background:t.background.hex,headerImage:a}),console.log(s.state.clientName)})).catch((function(e){console.log(e)}))},s.fetchGames=function(){s.setState({unplayedGames:null}),s.props.dbGame.find({selector:{parentTeam:s.state.userData.parentTeam}}).then((function(e){var t=e.docs;s.setState({unplayedGames:t}),console.log(s.state.unplayedGames)})).catch((function(e){console.log(e)})),s.setState({completedGames:null}),s.props.dbScore.find({selector:{user:s.state.userData._id}}).then((function(e){var t=e.docs;s.setState({completedGames:t}),console.log(s.state.completedGames)})).catch((function(e){console.log(e)}))},s.cancel=function(){s.setState({active:!1})},s.fetchGames.bind(Object(g.a)(s)),s.fetchClient.bind(Object(g.a)(s)),s.getUser=s.getUser.bind(Object(g.a)(s)),s.cancel=s.cancel.bind(Object(g.a)(s)),s.getClientName=s.getClientName.bind(Object(g.a)(s)),s.state=(n={parentClient:s.props.location,userData:null,unplayedGames:null,completedGames:null,clientName:"",active:!1,header:"",activeColor:"",secondary:"",background:"",headerImage:""},Object(M.a)(n,"clientName",""),Object(M.a)(n,"user_id",s.props.location.replace("/profileQuiz/","")),n),s}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.fetchClient(),this.getUser(),this.canceler=this.props.dbGame.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchGames()})),this.canceler=this.props.dbClient.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.fetchClient()})),this.canceler=this.props.dbUser.changes({since:"now",live:!0,include_docs:!0}).on("change",(function(){e.getUser()}))}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.canceler.cancel(),this.mounted=!1,this.setState({userData:null})}},{key:"getUser",value:function(){var e=this;this.props.dbUser.find({selector:{email:this.props.userData}}).then((function(t){var a=t.docs[0];e.setState({userData:a}),console.log(e.state.userData)})).catch((function(e){console.log(e)})),setTimeout((function(){e.fetchGames(),e.getClientName()}),1e3)}},{key:"getClientName",value:function(){var e=this;this.props.dbClient.find({selector:{_id:this.state.userData.parentClient}}).then((function(t){var a=t.docs[0];e.setState({clientName:a.nameClient})})).catch((function(e){console.log(e)}))}},{key:"completedGamesList",value:function(){var e=this;return this.state.completedGames.map((function(t,a){return s.a.createElement(Te,{key:a,_id:t.gameId,dbGame:e.props.dbGame,dbQuestion:e.props.dbQuestion,dbScore:e.props.dbScore,active:e.state.active,cancel:e.cancel,color:e.state.activeColor})}))}},{key:"unplayedGamesList",value:function(){var e=this;return this.state.unplayedGames.map((function(t,a){return s.a.createElement(we,{key:a,_id:t._id,dbGame:e.props.dbGame,dbQuestion:e.props.dbQuestion,dbScore:e.props.dbScore,active:e.state.active,cancel:e.cancel,color:e.state.activeColor})}))}},{key:"render",value:function(){return null===this.state.unplayedGames||null===this.state.completedGames?null:this.state.userData?s.a.createElement("div",null,s.a.createElement(S,{admin:this.state.userData.admin||this.state.userData.teamEditor?"/teams/"+this.state.parentClient:this.state.userData.gameEditor?"/games/"+this.state.parentClient:this.state.userData.themeEditor?"/themes/"+this.state.parentClient:this.state.userData.analyticsViewer?"/editTeams/users/"+this.state.parentClient:null,game:this.props.location,background:this.state.header,image:this.state.headerImage,profile:"/profile/"+this.state.userData._id}),s.a.createElement("div",{className:"info"}),s.a.createElement("div",{className:"info title",style:{marginTop:"30px"}},s.a.createElement("h3",{style:{margin:"0"}},this.state.clientName)),s.a.createElement("div",{className:"info add-container",style:{marginTop:"0"}},s.a.createElement("h3",{style:{margin:"0"}},this.state.userData.firstname," ",this.state.userData.lastname)),s.a.createElement("div",{className:"profile_nav"},s.a.createElement(y.b,{to:"/profileAdmin/"+this.state.user_id},s.a.createElement("h3",{className:"profile_nav_title"},"Profile")),s.a.createElement(y.b,{to:"/profileTeam/"+this.state.user_id},s.a.createElement("h3",{className:"profile_nav_title"},"Teams")),s.a.createElement(y.b,{to:"/profileQuiz/"+this.state.user_id},s.a.createElement("h3",{className:"profile_nav_title"},"Quizzes"))),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",null,this.state.unplayedGames?this.state.unplayedGames.length:0," ","QUIZZES TO COMPLETE"),s.a.createElement("h3",null,"ESTIMATED TIME"),s.a.createElement("h3",null,"QUESTIONS"),s.a.createElement("h3",null,"TOTAL SCORE")),this.unplayedGamesList()),s.a.createElement("div",{className:"storage-container"},s.a.createElement("div",{className:"card-leaderboard-labels"},s.a.createElement("h3",null,this.state.completedGames?this.state.completedGames.length:0," ","COMPLETED QUIZZES"),s.a.createElement("h3",null,"ACTUAL COMPLETION TIME"),s.a.createElement("h3",null,"QUESTIONS CORRECT"),s.a.createElement("h3",null,"TOTAL SCORE")),this.completedGamesList())):null}}]),a}(n.Component);function Ie(e){var t=Object(n.useContext)(w).userData;return t.user?t.user?s.a.createElement(Ge,{location:e.location.pathname.replace("/playHome/",""),userData:t.user.email,dbClient:e.dbClient,dbTeam:e.dbTeam,dbGame:e.dbGame,dbQuestion:e.dbQuestion,dbUser:e.dbUser,dbScore:e.dbScore,dbRating:e.dbRating}):void 0:null}var Be=a(11),ze=a(180);Be.a.plugin(ze.a);var qe=new Be.a("games_lists"),Le=new Be.a("https://2286caa2-1762-484d-8a76-d92f6bb78e23-bluemix.cloudant.com/games_lists");Be.a.sync(qe,Le,{live:!0,heartbeat:!1,timeout:!1,retry:!0});var Me=new Be.a("teams_lists"),Pe=new Be.a("https://2286caa2-1762-484d-8a76-d92f6bb78e23-bluemix.cloudant.com/teams_lists");Be.a.sync(Me,Pe,{live:!0,heartbeat:!1,timeout:!1,retry:!0});var Re=new Be.a("questions_lists"),Fe=new Be.a("https://2286caa2-1762-484d-8a76-d92f6bb78e23-bluemix.cloudant.com/questions_lists");Be.a.sync(Re,Fe,{live:!0,heartbeat:!1,timeout:!1,retry:!0});var Ve=new Be.a("users_lists"),Xe=new Be.a("https://2286caa2-1762-484d-8a76-d92f6bb78e23-bluemix.cloudant.com/users_lists");Be.a.sync(Ve,Xe,{live:!0,heartbeat:!1,timeout:!1,retry:!0});var Ye=new Be.a("random"),Ze=new Be.a("https://2286caa2-1762-484d-8a76-d92f6bb78e23-bluemix.cloudant.com/random");Be.a.sync(Ye,Ze,{live:!0,heartbeat:!1,timeout:!1,retry:!0});var He=new Be.a("clients_lists"),We=new Be.a("https://2286caa2-1762-484d-8a76-d92f6bb78e23-bluemix.cloudant.com/clients_lists");Be.a.sync(He,We,{live:!0,heartbeat:!1,timeout:!1,retry:!0});var Ke=new Be.a("scores_lists"),Je=new Be.a("https://2286caa2-1762-484d-8a76-d92f6bb78e23-bluemix.cloudant.com/scores_lists");Be.a.sync(Ke,Je,{live:!0,heartbeat:!1,timeout:!1,retry:!0});var $e=new Be.a("ratings_lists"),et=new Be.a("https://2286caa2-1762-484d-8a76-d92f6bb78e23-bluemix.cloudant.com/ratings_lists");function tt(){var e=Object(n.useState)({token:void 0,user:void 0}),t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(c.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=4,d.a.post("https://summer-game.herokuapp.com/users/tokenIsValid",null,{headers:{"x-auth-token":t}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,d.a.get("https://summer-game.herokuapp.com/users/",{headers:{"x-auth-token":t}});case 8:a=e.sent,r({token:t,user:a.data});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),s.a.createElement("div",null,s.a.createElement(je,null),s.a.createElement(y.a,null,s.a.createElement(w.Provider,{value:{userData:a,setUserData:r}},s.a.createElement("div",{className:"App"},s.a.createElement(Ee.a,{exact:!0,path:"/",component:Ce}),s.a.createElement(Ee.a,{path:"/login",component:Ne}),s.a.createElement(Ee.a,{exact:!0,path:"/register/:id",render:function(e){return s.a.createElement(Se,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{exact:!0,path:"/clients",render:function(e){return s.a.createElement(k,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{exact:!0,path:"/profile/:id",render:function(e){return s.a.createElement(xe,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{exact:!0,path:"/profileTeam/:id",render:function(e){return s.a.createElement(_e,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{exact:!0,path:"/profileQuiz/:id",render:function(e){return s.a.createElement(Ie,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{exact:!0,path:"/profileAdmin/:id",render:function(e){return s.a.createElement(Ue,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{exact:!0,path:"/contact/:id",render:function(e){return s.a.createElement(j,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{path:"/teams/:id",render:function(e){return s.a.createElement(Q,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{path:"/editTeam/games/:id",render:function(e){return s.a.createElement(q,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{path:"/editTeam/users/:id",render:function(e){return s.a.createElement(X,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{path:"/users/:id",render:function(e){return s.a.createElement($,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{path:"/games/:id",render:function(e){return s.a.createElement(ae,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{path:"/editGame/:id",render:function(e){return s.a.createElement(oe,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{path:"/themes/:id",render:function(e){return s.a.createElement(de,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{exact:!0,path:"/play/:id",render:function(e){return s.a.createElement(fe,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}}),s.a.createElement(Ee.a,{exact:!0,path:"/playHome/:id",render:function(e){return s.a.createElement(Ae,Object.assign({},e,{dbClient:He,dbTeam:Me,dbGame:qe,dbQuestion:Re,dbUser:Ve,dbScore:Ke,dbRating:$e}))}})))))}Be.a.sync($e,et,{live:!0,heartbeat:!1,timeout:!1,retry:!0});a(402);i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(tt,null)),document.getElementById("root"))},85:function(e,t,a){}},[[182,1,2]]]);
//# sourceMappingURL=main.962bddaf.chunk.js.map